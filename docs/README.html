<!-- tidy -im -wrap 110 README.html -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.15), see www.w3.org">
  <meta http-equiv="content-type" content="text/html; charset=us-ascii">
  <style type="text/css" media="all">
5px;border-collapse:collapse;}td.confluenceTd{border:1px solid
  4px;background:#f0f0f0;text-align:center;}.wiki-textarea,.wiki-textfield{width:100%;}.preformatted{border:1px
  dashed;font-size:11px;font-family:Menlo,Consolas,Monaco,"Lucida Console",monospace;margin:10px;line-height:13px;}.preformattedHeader{background-color:#f0f0f0;border-bottom:1px
  dashed;padding:3px;text-align:center;}.preformattedContent{background-color:#f0f0f0;padding:3px;overflow:auto;}.panel{border:1px
  dashed;margin:14px;margin-top:0;}.panelHeader{background-color:#f0f0f0;border-bottom:1pxm
  dashed;padding:3px;text-align:center;}.panelContent{background-color:#f0f0f0;padding:12px;}.code{border:1px
  dashed;font-size:11px;font-family:Menlo,Consolas,Monaco,"Lucida Console",monospace;margin:14px;line-height:13px;}.codeHeader{background-color:#f0f0f0;border-bottom:1px
  dashed;padding:3px;text-align:center;}.codeContent{text-align:left;background-color:#f0f0f0;padding:6px;overflow:auto;}.code-keyword{color:#000091;background-color:inherit;}.code-object{color:#910091;background-color:inherit;}.code-quote{color:#009100;background-color:inherit;}.code-comment{color:#808080;background-color:inherit;}.code-xml
  .code-keyword{color:inherit;font-weight:bold;}.code-tag{color:#000091;background-color:inherit;}.linkerror{background-color:#fcc;}ul#squaretab{margin-left:0;padding-left:0;white-space:nowrap;font:bold
  8px Verdana,sans-serif;}#squaretab
  li{display:inline;list-style-type:none;}#squaretab a{padding:2px
  6px;border:1px solid #999999;}#squaretab a:link,#squaretab
  a:visited{color:#fff;background-color:#999999;text-decoration:none;}#squaretab
  a:hover{color:#ffffff;background-color:#999999;border-color:#999999;text-decoration:none;}#squaretab
  li a#current{background:white;color:black;}.panel{border:1px
  dashed;margin:10px;margin-top:0;}.panelHeader{background-color:#f0f0f0;border-bottom:1px
  dashed;padding:3px;text-align:center;}.panelContent{background-color:#f0f0f0;padding:5px;}.minitab{padding:3px
  0 3px
  8px;margin-left:0;margin-top:1px;margin-bottom:0;border-bottom:1px
  solid #bbb;font:bold 9px
  Verdana,sans-serif;text-decoration:none;float:none;}
  </style>
  <style type="text/css">
span {
        font-family: Arial;
        color: #000000;
        background: #FFFFFF;
        font-size: 10pt;
  }
  pre {
        font-family: monospace;
        color: #000000;
        background: #FFFFFF;
        font-size: 10pt;
  }
  p.Heading0, li.Heading0, div.Heading0, span.Heading0 {
        font-size:14.0pt;
        font-family:Arial;
        font-weight:bold;
  }
  h1 {
        page-break-after:avoid;
        font-size:14.0pt;
        font-family:Arial;
        font-weight: bold;
  }
  h2 {
        page-break-after:avoid;
        font-size:12.0pt;
        font-family:Arial;
        font-weight: bold;
  }
    h3 {
        page-break-after:avoid;
        font-size:11.0pt;
        font-family:Arial;
        font-weight: bold;
  }
  DL, DT, OL, UL, LI, DD {
    list-style-position: outside;
  }
  pre {
    font-family: monospace;
    font-size: 10pt;
  }
  table {
    font-size: 10pt;
  }
  </style>
  <style type="text/css">
.SupportedDevices {
        margin:10px;padding:0px;
        width:90%;
        box-shadow: 10px 10px 5px #888888;
        border:1px solid #000000;

        -moz-border-radius-bottomleft:1px;
        -webkit-border-bottom-left-radius:1px;
        border-bottom-left-radius:1px;

        -moz-border-radius-bottomright:1px;
        -webkit-border-bottom-right-radius:1px;
        border-bottom-right-radius:1px;

        -moz-border-radius-topright:1px;
        -webkit-border-top-right-radius:1px;
        border-top-right-radius:1px;

        -moz-border-radius-topleft:1px;
        -webkit-border-top-left-radius:1px;
        border-top-left-radius:1px;
  }.SupportedDevices table{
        width:100%;

        margin:1px;padding:1px;
  }.SupportedDevices tr:last-child td:last-child {
        -moz-border-radius-bottomright:1px;
        -webkit-border-bottom-right-radius:1px;
        border-bottom-right-radius:1px;
  }
  .SupportedDevices table tr:first-child td:first-child {
        -moz-border-radius-topleft:1px;
        -webkit-border-top-left-radius:1px;
        border-top-left-radius:1px;
  }
  .SupportedDevices table tr:first-child td:last-child {
        -moz-border-radius-topright:1px;
        -webkit-border-top-right-radius:1px;
        border-top-right-radius:1px;
  }.SupportedDevices tr:last-child td:first-child{
        -moz-border-radius-bottomleft:1px;
        -webkit-border-bottom-left-radius:1px;
        border-bottom-left-radius:1px;
  }.SupportedDevices tr:hover td{

  }
  .SupportedDevices tr:nth-child(odd){ background-color:#CCffff; }
  .SupportedDevices tr:nth-child(even)    { background-color:#ffffff; }.SupportedDevices td{
        vertical-align:middle;

        border:1px solid #000000;
        border-width:0px 1px 1px 0px;
        text-align:justify;
        padding:3px;
        font-size:14px;
        font-family:Menlo,Consolas,Monaco,"Lucida Console",monospace;
        font-weight:normal;
        color:#000000;
  }.SupportedDevices tr:last-child td{
        border-width:0px 1px 0px 0px;
  }.SupportedDevices tr td:last-child{
        border-width:0px 0px 1px 0px;
  }.SupportedDevices tr:last-child td:last-child{
        border-width:0px 0px 0px 0px;
  }
  .SupportedDevices tr:first-child td{

        border:1px solid #000000;
        border-width:0px 1px 1px 0px;
        text-align:justify;
        padding:3px;
        font-size:14px;
        font-family:Menlo,Consolas,Monaco,"Lucida Console",monospace;
        font-weight:normal;
        color:#000000;
  }
  .SupportedDevices tr:first-child:hover td{
  }
  .SupportedDevices tr:first-child td:first-child{
        border-width:0px 0px 1px 0px;
  }
  .SupportedDevices tr:first-child td:last-child{
        border-width:0px 0px 1px 1px;
  }
  </style>
  <style type="text/css">
.ImportantNote {
        margin:24px;padding:0px;
        width:90%;
        box-shadow: 5px 5px 5px #888888;
        border:0px solid #000000;

        -moz-border-radius-bottomleft:1px;
        -webkit-border-bottom-left-radius:1px;
        border-bottom-left-radius:1px;

        -moz-border-radius-bottomright:1px;
        -webkit-border-bottom-right-radius:1px;
        border-bottom-right-radius:1px;

        -moz-border-radius-topright:1px;
        -webkit-border-top-right-radius:1px;
        border-top-right-radius:1px;

        -moz-border-radius-topleft:1px;
        -webkit-border-top-left-radius:1px;
        border-top-left-radius:1px;
  }.ImportantNote table{
        width:100%;

        margin:4px;padding:0px;
  }.ImportantNote tr:last-child td:last-child {
        -moz-border-radius-bottomright:1px;
        -webkit-border-bottom-right-radius:1px;
        border-bottom-right-radius:1px;
  }
  .ImportantNote table tr:first-child td:first-child {
        -moz-border-radius-topleft:1px;
        -webkit-border-top-left-radius:1px;
        border-top-left-radius:1px;
  }
  .ImportantNote table tr:first-child td:last-child {
        -moz-border-radius-topright:1px;
        -webkit-border-top-right-radius:1px;
        border-top-right-radius:1px;
  }.ImportantNote tr:last-child td:first-child{
        -moz-border-radius-bottomleft:1px;
        -webkit-border-bottom-left-radius:1px;
        border-bottom-left-radius:1px;
  }.ImportantNote tr:hover td{

  }
  .ImportantNote tr:nth-child(odd){ background-color:#EEffff; }
  .ImportantNote tr:nth-child(even)    { background-color:#ffffff; }.ImportantNote td{
        vertical-align:middle;

        border:0px solid #000000;
        border-width:0px 1px 1px 0px;
        text-align:justify;
        padding:3px;
        font-size:12px;
        font-family:Verdana, Geneva, sans-serif;
        font-weight:normal;
        color:#000000;
  }.ImportantNote tr:last-child td{
        border-width:0px 0px 0px 0px;
  }.ImportantNote tr td:last-child{
        border-width:0px 0px 0px 0px;
  }.ImportantNote tr:last-child td:last-child{
        border-width:0px 0px 0px 0px;
  }
  .ImportantNote tr:first-child td{

        border:0px solid #000000;
        border-width:0px 0px 0px 0px;
        text-align:justify;
        padding:14px;
        font-size:12px;
        font-family:Verdana, Geneva, sans-serif;
        font-weight:normal;
        color:#000000;
  }
  .ImportantNote tr:first-child:hover td{
  }
  .ImportantNote tr:first-child td:first-child{
        border-width:0px 0px 0px 0px;
  }
  .ImportantNote tr:first-child td:last-child{
        border-width:0px 0px 0px 0px;
  }
  </style>
  <style type="text/css">
ol.c10 {list-style-type: decimal;}
  dl.c9 {font-weight: normal; font-size: 10pt;}
  li.c8 {font-weight: bold;}
  span.c7 {font-style: italic;}
  span.c6 {font-weight: bold;}
  ul.c5 {font-weight: normal; font-size: 10pt; text-align: justify;}
  span.c4 {color: green; font-size: 120%}
  ol.c3 {font-weight: normal; font-size: 10pt; text-align: justify;}
  span.c2 {color: green}
  p.c1 {font-weight: normal; font-size: 10pt; text-align: justify;}
  </style>

  <title>MPLAB XC32 Compiler v1.34, Release Notes</title>
</head>

<body>
  <script language="JavaScript" type="text/javascript">
function shoh(id) {

        if (document.getElementById) { // DOM3 = IE5, NS6
                if (document.getElementById(id).style.display == "none"){
                        document.getElementById(id).style.display = 'block';
                } else {
                        document.getElementById(id).style.display = 'none';
                }
        } else {
                if (document.layers) {
                        if (document.id.display == "none"){
                                document.id.display = 'block';
                        } else {
                                document.id.display = 'none';
                        }
                } else {
                        if (document.all.id.style.visibility == "none"){
                                document.all.id.style.display = 'block';
                        } else {
                                filter(("img"+id),'imgout');
                                document.all.id.style.display = 'none';
                        }
                }
        }
  }
  </script>

  <h1 class="formtitle">Release Notes for the MPLAB<font size="-3"><sup>&reg;</sup></font> XC32 C/C++
  Compiler for PIC32 MCUs</h1>

  <h2>v1.34<br>
  November 21 2014</h2>

  <h1 class="formtitle"><a name="ToC" id="ToC">Table of Contents</a></h1>

  <ol>
    <li><a href="#Overview">Overview</a></li>

    <li><a href="#GPL">GNU General Public License</a></li>

    <li><a href="#SystemRequirements">System Requirements</a></li>

    <li><a href="#Devices">Devices Supported</a></li>

    <li><a href="#Install">Installation</a></li>

    <li><a href="#Document">Compiler Documentation</a></li>

    <li><strong><a href="#WhatsNew">What's New</a></strong></li>

    <li><strong><a href="#Migration">Migration Issues</a></strong></li>

    <li><a href="#DocUpdate">Documentation Updates</a></li>

    <li><a href="#Fixes">Fixed Issues</a></li>

    <li><a href="#Limits">Known Issues</a></li>

    <li><a href="#CompilerLicensing">Compiler Licensing</a></li>

    <li><a href="#Support">Customer Support</a></li>
  </ol>
  <hr>
  <br>

  <ol class="c10">
    <li class="Heading0">
      <h1><a name="Overview" id="Overview">Overview</a></h1>

      <p class="c1">The MPLAB<font size="-3"><sup>&reg;</sup></font> XC32 language toolsuite for PIC32 MCUs
      consists of a C compilation driver (<tt>xc32-gcc</tt>), a C++ compilation driver (<tt>xc32-g++</tt>),
      an assembler (<tt>xc32-as</tt>), a linker (<tt>xc32-ld</tt>), and an archiver/ librarian
      (<tt>xc32-ar</tt>). Additional tools distributed with this release include a binary to Intel[intl] Hex
      converter (<tt>xc32-bin2hex</tt>) and miscellaneous binary utilities (<tt>xc32-strip</tt>,
      <tt>xc32-objdump</tt>, <tt>xc32-readelf</tt>, etc). For more information on these tools, see the
      <cite><a href="http://www.microchip.com/mplabxc32guide">MPLAB<font size="-3"><sup>&reg;</sup></font>
      XC32 Compiler for PIC32 MCUs User's Guide</a></cite> and the <cite><a href=
      "http://www.microchip.com/mymicrochip/filehandler.aspx?ddocname=en566882">MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 Assembler, Linker, and Utilities User's Guide</a></cite>.</p>

      <p class="c1">As described in the user's guides, all of the language tools are sensitive to letter case
      on the command line, including the case of file names. In particular, the compilation drivers
      (<tt>xc32-gcc</tt> &amp; <tt>xc32-g++</tt>) require that C source files be named on the command-line
      with a lower-case .c extension. If an upper-case .C filename extension is used, the compiler assumes
      that the file is a C++ file. Microchip recommends the lower-case .cpp extension for C++ source files.
      Similarly, the compilation driver passes a file with an upper-case .S filename extension through the C
      preprocessor before passing it to the assembler, but it passes a file with a lower-case .s extension
      directly to the assembler.</p>
    </li>

    <li class="Heading0">
      <h1><a name="GPL" id="GPL">GNU General Public License</a></h1>

      <p class="c1">The <em>MPLAB<font size="-3"><sup>&reg;</sup></font> XC32 Compiler for PIC32 MCUs</em>
      tools are written and distributed under the GNU General Public License (GPL) which means that its
      source code is freely distributed and available to the public.</p>

      <p class="c1">The source for the tools under the GNU GPL may be downloaded separately from the
      Microchip WWW web page. You may read the GNU GPL in the file named COPYING3.GPL located the docs
      subdirectory of your install directory. A general discussion of principles underlying the GPL may be
      found at <a href="http://www.gnu.org/copyleft" target="external">www.gnu.org/copyleft</a>.</p>

      <p class="c1">Support code provided for the header files, linker scripts, and runtime libraries are
      proprietary code and not covered under the GPL. See the full <em>MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 Compiler for PIC32 MCUs</em> License Agreement for details.</p>
    </li>

    <li class="Heading0">
      <h1><a name="SystemRequirements" id="SystemRequirements">System Requirements</a></h1>

      <h3><u>Minimum Configurations</u></h3>

      <ul>
        <li>
          <p class="c1">Microsoft Windows XP Professional SP3/Vista SP1/Windows 7 Professional:</p>
        </li>

        <li>
          <p class="c1">Ubuntu 9.10:</p>
        </li>

        <li>
          <p class="c1">Macintosh OS X 10.5 Intel:</p>
        </li>
      </ul>

      <h3><u>Other Configurations</u></h3>

      <ul>
        <li>
          <p class="c1">The compiler may also run on the various other Linux distributions such as Oracle
          Enterprise Linux 5, Ubuntu 8.x and 10.04+, Red Hat Enterprise Linux and many others. It may also
          run on Microsoft Windows 8.</p>
        </li>
      </ul>

      <div style="list-style: none; margin-left: 2em">
        <center>
          <font size="-1">[ <a href="#ToC">Table of Contents</a> ] [ <a href="#WhatsNew">What's new</a> ] [
          <a href="#Migration">Migration Issues</a> ] [ <a href="#Fixes">Fixed Issues</a> ] [ <a href=
          "#Limits">Known Issues</a> ]</font>
        </center>
      </div>
    </li>

    <li class="Heading0">
      <h1><a name="Devices" id="Devices">Devices Supported</a></h1>

      <p class="c1">The following <a href="http://www.microchip.com/pic32" target="external">PIC32</a>
      devices are supported as arguments to the compiler's <tt>-mprocessor</tt> option:</p>
      <!-- Insert table from PIC32ConfigSet.html here -->

      <h3><u>Supported parts</u></h3>

      <p class="c1">In the table below, '<font face=
      "Menlo,Consolas,Monaco,Lucida Console,monospace">*</font>' indicates a new part introduced in this
      update.</p>

      <div class="SupportedDevices">
                    <table>
                <tr>
                    <td>32MM0016GPL020*</td>
                    <td>32MM0016GPL028*</td>
                    <td>32MM0016GPL036*</td>
                    <td>32MM0032GPL020*</td>
                    <td>32MM0032GPL028*</td>
                    <td>32MM0032GPL036*</td>
                </tr>
                <tr>
                    <td>32MM0064GPL020*</td>
                    <td>32MM0064GPL028*</td>
                    <td>32MM0064GPL036*</td>
                    <td>32MX110F016B</td>
                    <td>32MX110F016C</td>
                    <td>32MX110F016D</td>
                </tr>
                <tr>
                    <td>32MX120F032B</td>
                    <td>32MX120F032C</td>
                    <td>32MX120F032D</td>
                    <td>32MX120F064H</td>
                    <td>32MX130F064B</td>
                    <td>32MX130F064C</td>
                </tr>
                <tr>
                    <td>32MX130F064D</td>
                    <td>32MX130F128H</td>
                    <td>32MX130F128L</td>
                    <td>32MX150F128B</td>
                    <td>32MX150F128C</td>
                    <td>32MX150F128D</td>
                </tr>
                <tr>
                    <td>32MX150F256H</td>
                    <td>32MX150F256L</td>
                    <td>32MX151F128E*</td>
                    <td>32MX151F128H*</td>
                    <td>32MX170F256B</td>
                    <td>32MX170F256D</td>
                </tr>
                <tr>
                    <td>32MX170F512H</td>
                    <td>32MX170F512L</td>
                    <td>32MX210F016B</td>
                    <td>32MX210F016C</td>
                    <td>32MX210F016D</td>
                    <td>32MX220F032B</td>
                </tr>
                <tr>
                    <td>32MX220F032C</td>
                    <td>32MX220F032D</td>
                    <td>32MX230F064B</td>
                    <td>32MX230F064C</td>
                    <td>32MX230F064D</td>
                    <td>32MX230F128H</td>
                </tr>
                <tr>
                    <td>32MX230F128L</td>
                    <td>32MX250F128B</td>
                    <td>32MX250F128C</td>
                    <td>32MX250F128D</td>
                    <td>32MX250F256H</td>
                    <td>32MX250F256L</td>
                </tr>
                <tr>
                    <td>32MX251F128E*</td>
                    <td>32MX251F128H*</td>
                    <td>32MX270F256B</td>
                    <td>32MX270F256D</td>
                    <td>32MX270F512H</td>
                    <td>32MX270F512L</td>
                </tr>
                <tr>
                    <td>32MX320F032H</td>
                    <td>32MX320F064H</td>
                    <td>32MX320F128H</td>
                    <td>32MX320F128L</td>
                    <td>32MX330F064H</td>
                    <td>32MX330F064L</td>
                </tr>
                <tr>
                    <td>32MX340F128H</td>
                    <td>32MX340F128L</td>
                    <td>32MX340F256H</td>
                    <td>32MX340F512H</td>
                    <td>32MX350F128H</td>
                    <td>32MX350F128L</td>
                </tr>
                <tr>
                    <td>32MX350F256H</td>
                    <td>32MX350F256L</td>
                    <td>32MX360F256L</td>
                    <td>32MX360F512L</td>
                    <td>32MX370F512H</td>
                    <td>32MX370F512L</td>
                </tr>
                <tr>
                    <td>32MX420F032H</td>
                    <td>32MX430F064H</td>
                    <td>32MX430F064L</td>
                    <td>32MX440F128H</td>
                    <td>32MX440F128L</td>
                    <td>32MX440F256H</td>
                </tr>
                <tr>
                    <td>32MX440F512H</td>
                    <td>32MX450F128H</td>
                    <td>32MX450F128L</td>
                    <td>32MX450F256H</td>
                    <td>32MX450F256L</td>
                    <td>32MX460F256L</td>
                </tr>
                <tr>
                    <td>32MX460F512L</td>
                    <td>32MX470F512H</td>
                    <td>32MX470F512L</td>
                    <td>32MX530F128H</td>
                    <td>32MX530F128L</td>
                    <td>32MX534F064H</td>
                </tr>
                <tr>
                    <td>32MX534F064L</td>
                    <td>32MX550F256H</td>
                    <td>32MX550F256L</td>
                    <td>32MX564F064H</td>
                    <td>32MX564F064L</td>
                    <td>32MX564F128H</td>
                </tr>
                <tr>
                    <td>32MX564F128L</td>
                    <td>32MX570F512H</td>
                    <td>32MX570F512L</td>
                    <td>32MX575F256H</td>
                    <td>32MX575F256L</td>
                    <td>32MX575F512H</td>
                </tr>
                <tr>
                    <td>32MX575F512L</td>
                    <td>32MX664F064H</td>
                    <td>32MX664F064L</td>
                    <td>32MX664F128H</td>
                    <td>32MX664F128L</td>
                    <td>32MX675F256H</td>
                </tr>
                <tr>
                    <td>32MX675F256L</td>
                    <td>32MX675F512H</td>
                    <td>32MX675F512L</td>
                    <td>32MX695F512H</td>
                    <td>32MX695F512L</td>
                    <td>32MX764F128H</td>
                </tr>
                <tr>
                    <td>32MX764F128L</td>
                    <td>32MX775F256H</td>
                    <td>32MX775F256L</td>
                    <td>32MX775F512H</td>
                    <td>32MX775F512L</td>
                    <td>32MX795F512H</td>
                </tr>
                <tr>
                    <td>32MX795F512L</td>
                    <td>32MXGENERIC*</td>
                    <td>32MZ1024ECG064</td>
                    <td>32MZ1024ECG100</td>
                    <td>32MZ1024ECG124</td>
                    <td>32MZ1024ECG144</td>
                </tr>
                <tr>
                    <td>32MZ1024ECH064</td>
                    <td>32MZ1024ECH100</td>
                    <td>32MZ1024ECH124</td>
                    <td>32MZ1024ECH144</td>
                    <td>32MZ1024ECM064</td>
                    <td>32MZ1024ECM100</td>
                </tr>
                <tr>
                    <td>32MZ1024ECM124</td>
                    <td>32MZ1024ECM144</td>
                    <td>32MZ2048ECG064</td>
                    <td>32MZ2048ECG100</td>
                    <td>32MZ2048ECG124</td>
                    <td>32MZ2048ECG144</td>
                </tr>
                <tr>
                    <td>32MZ2048ECH064</td>
                    <td>32MZ2048ECH100</td>
                    <td>32MZ2048ECH124</td>
                    <td>32MZ2048ECH144</td>
                    <td>32MZ2048ECM064</td>
                    <td>32MZ2048ECM100</td>
                </tr>
                <tr>
                    <td>32MZ2048ECM124</td>
                    <td>32MZ2048ECM144</td>
                    <td>32MZ2048EFM144*</td>
                    <td>MEC1404</td>
                    <td>MEC1406*</td>
                    <td>MEC1408*</td>
                </tr>
                <tr>
                    <td>MEC1418*</td>
                    <td>MGC3430*</td>
                    <td>MGC3431*</td>
                    <td>MGC3450*</td>
                    <td>MGC3451*</td>
                    <td></td>
                </tr>
            </table>

      </div>

      <div class="c1">
        <p class="c1">Notes:<br>
        1. <b>PIC32MZ</b> devices require MPLAB<font size="-3"><sup>&reg;</sup></font> XC32 Compiler
        <b>v1.30</b> or newer<br>
        2. <b>MEC14xx</b> devices require MPLAB<font size="-3"><sup>&reg;</sup></font> XC32 Compiler
        <b>v1.33</b> or newer<br>
        3. <b>PIC32MM</b> devices require MPLAB<font size="-3"><sup>&reg;</sup></font> XC32 Compiler
        <b>v1.34</b> or newer<br>
        4. <b>MGC34xx</b> devices require MPLAB<font size="-3"><sup>&reg;</sup></font> XC32 Compiler
        <b>v1.34</b> or newer<br></p>
      </div>
    </li>

    <li class="Heading0">
      <h1><a name="Install" id="Install">Installation</a></h1>

      <p class="c1">Once installed, the compiler should report its build date as: <tt>November 21 2014</tt></p>

      <p class="c1">If using <a href="http://www.microchip.com/mplabx" target="external">MPLAB<font size=
      "-3"><sup>&reg;</sup></font> X IDE</a>, be sure to install MPLAB<font size="-3"><sup>&reg;</sup></font>
      X v1.50 (or later) before installing this language toolsuite. You may also use MPLAB IDE v8.84 or later
      for C and assembly-code projects.</p>

      <table id="RequireMPLABX140" align="center" border="1" cellpadding="8" cellspacing="0" summary=
      "MPLAB X v1.41 required for C++" width="95%">
        <tbody>
          <tr>
            <td valign="top"><strong>Important:</strong> Building an MPLAB XC32 C++ project and debugging C++
            code requires <strong>MPLAB X IDE v1.50</strong> (or later). MPLAB IDE v8.xx does not support C++
            projects.</td>
          </tr>
        </tbody>
      </table>

      <p class="c1">For detailed installation instructions, please see the <a href=
      "http://www.microchip.com/mplabxclicenseinstall">compiler installation guide</a>. This section is
      intended to provide a brief overview.</p>

      <p class="c1">To install the <em>MPLAB<font size="-3"><sup>&reg;</sup></font> XC32 Compiler for PIC32
      MCUs</em> tools, perform the following steps:</p>

      <ol class="c3">
        <li>
          <p>Locate the installation program for your host operating system (Windows<font size=
          "-3"><font size="-3"><sup>&reg;</sup></font></font>, Mac, Linux).</p>
        </li>

        <li>
          <p>If you have purchased a workstation compiler license, locate the activation key and have it
          ready for the install process. You may also wish to obtain a <em>free</em> C++ activation key if
          your purchased license includes only C/ASM language support. Visit <a href=
          "http://www.microchip.com/MPLABXCCompilers">http://www.microchip.com/MPLABXCCompilers</a> for more
          information on <em>free</em> and paid compiler licenses for C and C++.</p>
        </li>

        <li>
          <p>Verify that your computer is connected to the Internet and run the installation program.</p>
        </li>

        <li>
          <p>Follow the directions on the screen. On the final screen of the installer, you will be presented
          with several web links that you can use to activate your license.</p>
        </li>
      </ol>

      <p class="c1">If using the compiler with MPLAB X IDE, be sure to install MPLAB X IDE v1.50 or later.
      MPLAB X may not be able to automatically locate the installation if it is not installed into the
      default directory.</p>
    </li>

    <li class="Heading0">
      <h1><em><a name="Document" id="Document">Compiler Documentation</a></em></h1>

      <p class="c1">The following documents pertain to the MPLAB<font size="-3"><sup>&reg;</sup></font> XC32
      Compiler for PIC32 MCUs. They may be installed in the compiler's doc subdirectory, but you should check
      <a href="http://www.microchip.com/MPLABXCcompilers" target="external">Microchip's website</a> for the
      latest revisions.</p>

      <ul class="c5">
        <li><cite><a href="http://www.microchip.com/mplabxc32guide">MPLAB<font size=
        "-3"><sup>&reg;</sup></font> XC32 C/C++ Compiler User's Guide</a></cite> (DS00051686)</li>

        <li><a href="http://bit.ly/MPLABC32LibsDoc" target="doc"><cite>MPLAB<font size=
        "-3"><sup>&reg;</sup></font> 32-Bit Language Tools Libraries</cite></a> (DS51685)</li>

        <li><a href="http://bit.ly/ASM32Doc" target="doc"><cite>MPLAB<font size="-3"><sup>&reg;</sup></font>
        XC32 Assembler, Linker and Utilities User's Guide</cite></a> (DS50002186)</li>
      </ul>

      <p class="c1">Additional documentation on the GNU Assembler and Linker is available on the <a href=
      "http://sourceware.org/binutils/docs-2.20" target="external">GNU Binutils v2.20 website</a>.</p>

      <center>
        <font size="-1">[ <a href="#ToC">Table of Contents</a> ] [ <a href="#Migration">Migration Issues</a>
        ] [ <a href="#Fixes">Fixed Issues</a> ] [ <a href="#Limits">Known Issues</a> ]</font>
      </center>
    </li>

    <li class="Heading0">
      <h1><a name="WhatsNew" id="WhatsNew"></a>What's New</h1><a name="newXC32134target" id=
      "newXC32134target"></a>

      <h2><a href="#newXC134target" onclick="shoh('newXC134');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.34</a></h2>

      <div style="display: block;" id="newXC134">
        <ul class="c5">
          <li>
            <p><strong>New Part Support</strong> -- Support for several new <a href=
            "http://www.microchip.com/pagehandler/en-us/family/32bit/">PIC32MZ, PIC32MX, and PIC32MM MCUs</a>
            was added for this release. See <a href="#Devices">Devices Supported</a> for a full list of
            devices.</p>
          </li>

          <li>
            <p><strong>Linker-Script Preprocessing</strong> -- A linker script is now passed to the C
            preprocessor before actual linking begins. This feature provides an opportunity to substitute
            macro definitions and to include conditional blocks of code. The C preprocessor is well-known by
            programmers and documentation for the preprocessor is widely available.</p>

            <p>Linker preprocessor options are listed in the sections below. When linking via the xc32-gcc
            driver, pass these options to the linker <strong>via the <tt>-Wl</tt> option (e.g.
            <tt>-Wl,-DMYMACRO=1</tt>)</strong>.</p>

            <ul class="c5">
              <li><strong><tt>-D&lt;macro&gt;[=value]</tt></strong><br>
              Define a macro (with optional value) to the preprocessor. Macros can be used to substitute
              literal values into a script, such as for the origin or length of memory regions. They can also
              be used to select conditional blocks of code using directives such as <tt>#ifdef</tt>,
              <tt>#endif</tt>.</li>

              <li><strong><tt>--no-cpp</tt></strong><br>
              Do not preprocess linker scripts. Linker script preprocessing is enabled by default. This
              option can be used to disable preprocessing. Take care when selecting this option. If a linker
              script requires preprocessing (such as for conditional blocks of text), using this option will
              cause a processing error.</li>

              <li><strong><tt>--save-gld</tt></strong><br>
              Save preprocessed linker scripts. By default the result of preprocessing is a temporary file.
              This option can be used to save the preprocessed linker script. A filename is automatically
              generated based on the linker-script filename (e.g. <tt>p32MZ2048ECH100.ld.00</tt>) and located
              in your current working directory.</li>
            </ul>
          </li>

          <li>
            <p><strong>Added support for fixed-point operations</strong> -- This release contains support for
            native C fixed-point datatypes. Native C arithmetic operations are supported. See <a href=
            "#CompDocUpdate">Compiler Documentation Updates</a> section for more details.</p>
          </li>
        </ul>
      </div>

      <h2><a href="#newXC133target" onclick="shoh('newXC133');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.33</a></h2>

      <div style="display: block;" id="newXC133">
        <ul class="c5">
          <li>
            <p><strong>New Part Support</strong> -- Support for several new <a href=
            "http://www.microchip.com/pagehandler/en-us/family/32bit/">PIC32MX MCUs</a> was added for this
            release. In addition, this release introduces support for the <a href=
            "http://www.microchip.com/pagehandler/en-us/technology/embeddedkeyboardcontrollers/home.html">MEC1404</a>
            embedded controller. See <a href="#Devices">Devices Supported</a> for a full list of devices.</p>
          </li>
        </ul>
      </div>

      <h2><a href="#newXC132target" onclick="shoh('newXC132');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.32</a></h2>

      <div style="display: block;" id="newXC132">
        <ul class="c5">
          <li>
            <p><strong>Relaxed-compliance math library</strong> -- This release introduces a
            relaxed-compliance math library, enabled with the <tt>-relaxed-math</tt> xc32-gcc command-line
            option at link. This library provides alternative floating-point support routines that are faster
            and smaller than the default math routines, but make some sacrifices in compliance. For instance,
            it does not do all of the infinity, overflow and NaN checking, etc. of a fully compliant library.
            It does not return all of the detailed feedback from that checking. However, this reduced
            compliance is usually sufficient for most applications.</p>
          </li>

          <li>
            <p><strong>Inlining of microMIPS and MIPS16 code</strong> -- The compiler now allows function
            inlining of microMIPS and MIPS16 code. Inlining will automatically be enabled at the -O1 and
            greater optimization levels.</p>
          </li>

          <li>
            <p><strong>Debug reserved memory</strong> -- When building your project for debugging in MPLAB X,
            the IDE now passes the -mreserve option to the toolchain in order to reserve memory for use by
            the debug executive. This mechanism replaces the hard-coded reserved memory regions in the linker
            script.</p>

            <div class="ImportantNote">
              <table summary="IMPORTANT">
                <tr>
                  <td>
                    <p>NOTE: As part of this feature, the tool executables are moved to the bin/bin
                    subdirectory. The bin directory now contains shell executables that call the
                    corresponding toolchain executable located in the bin/bin directory (e.g. The
                    bin/xc32-gcc shell calls the bin/bin/xc32-gcc tool).</p>
                  </td>
                </tr>
              </table>
            </div>
          </li>

          <li>
            <p><strong>Migration to MPLAB<font size="-3"><sup>&reg;</sup></font> Harmony from Legacy
            Peripheral Libraries</strong> -- All the Peripheral Library (PLIB) functions, usually included by
            plib.h, will be removed from future releases of MPLAB XC32 C/C++ Compiler. Please refer to the
            MPLAB Harmony Libraries for new projects. For legacy support, these PLIB Libraries will be
            available for download from: <a href=
            "http://www.microchip.com/pic32_peripheral_lib">http://www.microchip.com/pic32_peripheral_lib</a>.</p>

            <div class="ImportantNote">
              <table summary="IMPORTANT">
                <tr>
                  <td>
                    <p>NOTE: The peripheral library header files now contain a #warning message: "The PLIB
                    functions and macros in this file will be removed from the MPLAB XC32 C/C++ Compiler in
                    future releases". To suppress this warning, define the preprocessor macro
                    <strong><tt>_SUPPRESS_PLIB_WARNING</tt></strong> before #include'ing a plib header file.
                    You can define this symbol in your MPLAB X project settings or you can use a <tt>#define
                    _SUPPRESS_PLIB_WARNING 1</tt> in your code before the <tt>#include</tt> directive.</p>
                  </td>
                </tr>
              </table>
            </div>
          </li>

          <li>
            <p><strong>Issues Fixed</strong> -- See the <a href="#Fixes"><em>Fixed Issues</em></a> section
            for information on bug fixes addressed in this release.</p>
          </li>
        </ul>
      </div>

      <h2><a href="#newXC131target" onclick="shoh('newXC131');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.31</a></h2>

      <div style="display: block;" id="newXC131">
        <ul class="c5">
          <li>
            <p><strong>Issues Fixed</strong> -- See the <a href="#Fixes"><em>Fixed Issues</em></a> section
            for information on bug fixes addressed in this release.</p>
          </li>
        </ul>
      </div>

      <h2><a href="#newXC130target" onclick="shoh('newXC130');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.30</a></h2><a name="newXC130target" id="newXC130target"></a>

      <div style="display: block;" id="newXC130">
        <ul class="c5">
          <li>
            <p><strong>MPLAB<font size="-3"><sup>&reg;</sup></font> Harmony introduction</strong> --
            MPLAB<font size="-3"><sup>&reg;</sup></font> Harmony is a fully integrated firmware framework
            with associated libraries, example applications, and related collateral supporting features of
            PIC32 microcontrollers. One of the many layers that MPLAB Harmony provides is a next-generation
            peripheral library. Visit http://www.microchip.com/harmony for more information on this new
            framework.</p>

            <p>Because the next-generation peripheral libraries are provided with MPLAB Harmony, Microchip
            will move the legacy peripheral libraries from the XC32 compiler installer to a separate package
            available for download from the Microchip website. This transition will take place in a future
            XC32 release.</p>
          </li>

          <li>
            <p><strong>Software reset in default exception/interrupt handlers</strong> -- The default
            exception &amp; interrupt handlers now cause a software reset when building a release image and a
            software debug breakpoint when compiling a debug image. In addition, the
            __builtin_software_breakpoint() function will cause a software reset when building a release
            image.</p>
          </li>

          <li>
            <p><strong>Initial support for PIC32MZ family</strong> -- This release introduces the first
            PIC32MZ microcontrollers, which feature the MIPS microAptiv core.</p>
          </li>

          <li>
            <p><strong>PIC32MZ config pragmas</strong> -- This release adds the new <tt>config_alt</tt>,
            <tt>config_bf1</tt>, <tt>config_abf1</tt>, <tt>config_bf2</tt>, &amp; <tt>config_abf2</tt>
            pragmas to support placing config-bit values into the alternate, boot flash 1, alternate boot
            flash 1, boot flash 2, alternate boot flash 2 PIC32 MZ memory regions, respectively.<br>
            (e.g. <tt>#pragma config_bf2 FWDTEN=off)</tt></p>
          </li>

          <li>
            <p><strong>Integer values for config pragmas</strong> -- The config and config_<em>region</em>
            pragmas now accept an integer for the value.<br>
            <tt>#pragma config_bf2 TSEQ = 1<br>
            #pragma config USERID = 0x1234u</tt></p>
          </li>

          <li>
            <p><strong>PIC32MZ Interrupt vector-table support</strong> -- The PIC32MZ family features
            variable offsets for vector spacing. The compiler and linker work together to treat the
            <tt>OFF<em>nnn</em></tt> Special Function Registers as initialized data so that they are
            initialized at startup. This means that there is no need for application code to initialize the
            <tt>OFF<em>nnn</em></tt> SFRs. This also means that it is often more efficient to place the ISR
            within the vector table rather than using a dispatch function.</p>

            <p>Example Interrupt Service Routine:</p>

            <div style="margin-bottom:14px;">
              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#004080;">#include&nbsp;</span><span style=
                "color:#a31515;">&lt;xc.h&gt;</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#004080;">#include&nbsp;</span><span style=
                "color:#a31515;">&lt;sys/attribs.h&gt;</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#0000ff;">void</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style=
                "color:#000000;"><strong>__ISR_AT_VECTOR(_CORE_TIMER_VECTOR,&nbsp;IPL7SRS)</strong></span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">CoreTimerHandler(</span><span style=
                "color:#0000ff;">void</span><span style="color:#000000;">)</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">{</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=
                "color:#008000;">//&nbsp;ISR&nbsp;code&nbsp;here</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">}</span>
              </div>

              <div style="margin-bottom:14px;"></div>
            </div>
          </li>

          <li>
            <p><strong>Single-file linker script</strong> -- The linker script for PIC32MZ devices are now
            contained within a single file (e.g.
            <tt>pic32mx/lib/proc/32MZ2048ECH100/p32MZ2048ECH100.ld</tt>). This eliminates the dependency on
            two files (<tt>elf32pic32mx.x</tt> and <tt>procdefs.ld</tt>) used by the older PIC32MX model.
            Like before, the xc32-gcc compilation driver will pass the device-specific linker script to the
            linker when building with <tt>-mprocessor=<em>device</em></tt> option. Please note that an
            essential addition is an output section to populate the PIC32MZ interrupt vector table.</p>

            <p>For backwards compatibility reasons, the PIC32MX devices will continue to use the two-file
            linker script, but a single-file linker script is available for customization purposes. That is,
            the dual-file script will be the default, but the single-file script will be available. You can
            then take the single-file script, customize it, and add it to your project.</p>
          </li>

          <li>
            <p><strong>MicroMIPS Compressed ISA function attribute</strong> -- The PIC32MZ family introduces
            the microMIPS compressed instruction-set architecture. You can now use the <tt>micromips</tt>
            function attribute to compile the function for the microMIPS compressed mode. This compressed ISA
            generally results in a ~30% reduction in overall application code size at the expense of ~2% in
            performance. The microcontroller can switch between the MIPS32 and microMIPS modes on a function
            call. Consult your device datasheet to determine if your target device supports the microMIPS
            ISA.</p>

            <p>Example function: <tt><br>
            &nbsp;#include &lt;xc.h&gt;<br>
            &nbsp;void<br>
            &nbsp;<strong>__attribute__((micromips))</strong><br>
            &nbsp;peanut(void)<br>
            &nbsp;{<br>
            &nbsp;&nbsp;&nbsp;// function code here<br>
            &nbsp;}</tt></p>

            <div class="ImportantNote">
              <table summary="IMPORTANT">
                <tr>
                  <td>
                    <p><strong><em>IMPORTANT:</em></strong> Standard function calls can switch between MIPS32
                    and microMIPS modes. However, when calling a MIPS32 library function from a microMIPS
                    function, the compiler may generate a compressed <tt>jals</tt> instruction to call the
                    library function. A <tt>jals</tt> instruction cannot change modes to MIPS32 and upon
                    linking, you may receive an error, "<em><strong>Unsupported jump between ISA modes;
                    consider recompiling with interlinking enabled.</strong></em>" In that case, add the
                    <tt><strong>-mno-jals</strong></tt> option to the Alternate Options field in your project
                    properties for xc32-gcc so that it is passed to the compiler.</p>
                  </td>
                </tr>
              </table>
            </div>
          </li>

          <li>
            <p><strong>Device-specific startup code</strong> -- The C/C++ runtime startup code is now device
            specific. The xc32-gcc and xc32-g++ compilation drivers will select the appropriate startup code
            when linking using the -mprocessor=<em>device</em> option.</p>

            <ul class="c5">
              <li>The startup code initializes the L1 cache when available.</li>

              <li>It enables the DSPr2 engine when available.</li>

              <li>It also initializes the Translation Lookaside Buffer (TLB) of the Memory Management Unit
              (MMU) for the External Bus Interface (EBI) or Serial Quad Interface (SQI) when available. The
              device-specific linker script creates a table of TLB initialization values that the startup
              code then uses to initialize the TLB at startup.</li>
            </ul>

            <div class="ImportantNote">
              <table summary="IMPORTANT">
                <tr>
                  <td>
                    <p><strong><em>IMPORTANT:</em></strong> When your target MCU is configured to use the
                    microMIPS compressed ISA at startup and for interrupts/exceptions, be sure to pass the
                    <tt>-mmicromips</tt> option to xc32-gcc when linking and also use the the
                    <tt>micromips</tt> function attribute on all of your Interrupt Service Routines (ISRs).
                    Using the <tt>-mmicromips</tt> option and the <tt>micromips</tt> attribute ensures that
                    your startup code and ISR code are compiled for the microMIPS ISA when the
                    <strong><tt>BOOTISA</tt> configuration bit is set to micromips</strong>. Likewise, be
                    sure that you link with the MIPS32 startup code and that your ISRs are not
                    <tt>micromips</tt> attributed when the BOOTISA bit is set to MIPS32.</p>
                  </td>
                </tr>
              </table>
            </div>
          </li>

          <li>
            <p><strong>Variables allocated to L1 cached memory</strong> -- For devices featuring an L1 data
            cache, data variables are now allocated to the KSEG0 data-memory region (<tt>kseg0_data_mem</tt>)
            making it accessible through the L1 cache. Likewise, the linker-allocated heap and stack are
            allocated to the KSEG0 region.</p>

            <p>There is a new <tt>coherent</tt> variable attribute that allows you to create a DMA buffer
            allocated to the kseg1_data_mem region.</p><tt>unsigned int
            __attribute__((<strong>coherent</strong>)) buffer[1024];</tt>

            <p>When combining the <tt>coherent</tt> attribute with the <tt>address</tt> attribute, be sure to
            use the default data-memory region address for the device. On devices featuring an L1 data cache,
            the default data-memory region is kseg0_data_mem.</p><tt>unsigned int
            __attribute__((<strong>coherent,address(<em>0x80001000</em>)</strong>)) buffer[1024];</tt>

            <p>This release also features new <tt>__pic32_alloc_coherent(size_t)</tt> and
            <tt>__pic32_free_coherent(void*)</tt> functions to allocate and free memory from the uncached
            kseg1_data_mem region. Since the default stack is allocated to the cached kseg0_data_mem region,
            but you may want to create an uncached DMA buffer, you can use these new functions to allocate an
            uncached buffer. These functions call the standard malloc()/free() functions, but the pointers
            that they use are translated from kseg0 to kseg1.</p>

            <div style="margin-bottom:14px;">
              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#004080;">#include&nbsp;</span><span style=
                "color:#a31515;">&lt;xc.h&gt;</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#0000ff;">void</span><span style=
                "color:#000000;">&nbsp;jak(</span><span style="color:#0000ff;">void</span><span style=
                "color:#000000;">)&nbsp;{</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=
                "color:#0000ff;">char</span><span style=
                "color:#000000;">*&nbsp;buffer&nbsp;=&nbsp;<strong>__pic32_alloc_coherent(</strong><span style="color:#400080;">1024</span><span style="color:#000000;">)</span>;</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=
                "color:#0000ff;">if</span><span style="color:#000000;">&nbsp;(buffer)&nbsp;{</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style=
                "color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=
                "color:#008000;">/*&nbsp;do&nbsp;something&nbsp;*/</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=
                "color:#0000ff;">else</span><span style="color:#000000;">&nbsp;{</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style=
                "color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=
                "color:#008000;">/*&nbsp;handle&nbsp;error&nbsp;*/</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=
                "color:#0000ff;">if</span><span style="color:#000000;">&nbsp;(buffer)&nbsp;{</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style=
                "color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>__pic32_free_coherent(<em>buffer</em>)</strong>;</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span>
              </div>

              <div style="font-family:Menlo,Consolas,Monaco,lucida consolas">
                <span style="color:#000000;">}</span>
              </div>

              <div style="margin-bottom:14px;"></div>
            </div>
          </li>

          <li>
            <p><strong>PIC32MZ predefined macros</strong> -- When compiling for a PIC32MZ device using the
            -mprocessor=<em>device</em> option, the compiler defines the following new predefined
            macros:</p><tt>#define __PIC32MZ 1</tt><br>
            <tt>#define __32MZ2048ECH100__ 1</tt><br>
            <tt>#define __PIC32_FLASH_SIZE 2048 &nbsp; <font color="gray">/*
            PIC32MZ</font><strong>2048</strong><font color="gray">ECH100 */</font></tt><br>
            <tt>#define __PIC32_FEATURE_SET "EC" &nbsp;<font color="gray">/*
            PIC32MZ2048</font><strong>EC</strong><font color="gray">H100 */</font></tt><br>
            <tt>#define __PIC32_FEATURE_SET0 69 &nbsp; <font color="gray">/*
            PIC32MZ2048</font><strong>E</strong><font color="gray">CH100 */</font></tt><br>
            <tt>#define __PIC32_FEATURE_SET1 67 &nbsp; <font color="gray">/*
            PIC32MZ2048E</font><strong>C</strong><font color="gray">H100 */</font></tt><br>
            <tt>#define __PIC32_PRODUCT_GROUP 72 &nbsp;<font color="gray">/*
            PIC32MZ2048EC</font><strong>H</strong><font color="gray">100 */</font></tt><br>
            <tt>#define __PIC32_PIN_COUNT 100 &nbsp;&nbsp;&nbsp; <font color="gray">/*
            PIC32MZ2048ECH</font><strong>100</strong> <font color="gray">*/</font></tt>
          </li>

          <li>
            <p><strong>Builtin functions for hardware DSPr2 engine support</strong> -- When compiling for a
            PIC32MZ device that supports the hardware DSPr2 engine, the compiler supports several new builtin
            functions allowing access to the DSP instructions directly.</p>

            <p>The SCOUNT and POS bits of the DSP control register are global. The WRDSP, EXTPDP, EXTPDPV and
            MTHLIP instructions modify the SCOUNT and POS bits. During optimization, the compiler will not
            delete these instructions and it will not delete calls to functions containing these
            instructions.</p>

            <p>At present, XC32 provides support only for operations on 32-bit vectors. The vector type
            associated with 8-bit integer data is usually called v4i8, the vector type associated with Q7 is
            usually called v4q7, the vector type associated with 16-bit integer data is usually called v2i16,
            and the vector type associated with Q15 is usually called v2q15. They can be defined in C as
            follows:</p>
            <pre>
     typedef signed char v4i8 __attribute__ ((vector_size(4)));
     typedef signed char v4q7 __attribute__ ((vector_size(4)));
     typedef short v2i16 __attribute__ ((vector_size(4)));
     typedef short v2q15 __attribute__ ((vector_size(4)));
</pre>

            <p>v4i8, v4q7, v2i16 and v2q15 values are initialized in the same way as aggregates. For
            example:</p>
            <pre>
     v4i8 a = {1, 2, 3, 4};
     v4i8 b;
     b = (v4i8) {5, 6, 7, 8};

     v2q15 c = {0x0fcb, 0x3a75};
     v2q15 d;
     d = (v2q15) {0.1234 * 0x1.0p15, 0.4567 * 0x1.0p15};
</pre>

            <p>Note: When packing, the first value is the least significant and the last value is the most
            significant. For example, the code above will set the lowest byte of a to 1.</p>

            <p>Note: Q7, Q15 and Q31 values must be initialized with their integer representation. As shown
            in this example, the integer representation of a Q7 value can be obtained by multiplying the
            fractional value by 0x1.0p7. The equivalent for Q15 values is to multiply by 0x1.0p15. The
            equivalent for Q31 values is to multiply by 0x1.0p31.</p>

            <p>The table below lists the v4i8 and v2q15 operations for which hardware support exists. a and b
            are v4i8 values, and c and d are v2q15 values.</p>
            <pre>
C code  PIC32 DSP instruction
a + b   addu.qb
c + d   addq.ph
a - b   subu.qb
c - d   subq.ph
</pre>

            <p>The table below lists the v2i16 operation. e and f are v2i16 values.</p>
            <pre>
C code  PIC32 DSP instruction
e * f   mul.ph
</pre>It is easier to describe the DSP built-in functions if we first define the following types:
            <pre>
     typedef int q31;
     typedef int i32;
     typedef unsigned int ui32;
     typedef long long a64;
</pre>

            <p>q31 and i32 are actually the same as int, but we use q31 to indicate a Q31 fractional value
            and i32 to indicate a 32-bit integer value. Similarly, a64 is the same as long long, but we use
            a64 to indicate values that will be placed in one of the four DSP accumulators ($ac0, $ac1, $ac2
            or $ac3).</p>

            <p>Also, some built-in functions prefer or require immediate numbers as parameters, because the
            corresponding DSP instructions accept both immediate numbers and register operands, or accept
            immediate numbers only. The immediate parameters are listed as follows.</p>
            <pre>
     imm0_3: 0 to 3.
     imm0_7: 0 to 7.
     imm0_15: 0 to 15.
     imm0_31: 0 to 31.
     imm0_63: 0 to 63.
     imm0_255: 0 to 255.
     imm_n32_31: -32 to 31.
     imm_n512_511: -512 to 511.
</pre>

            <p>The following built-in functions map directly to a particular DSP instruction. Please refer to
            the family reference manual for a description of the DSP operation.</p>
            <pre>
     a64 __builtin_mips_dpa_w_ph (a64, v2i16, v2i16);
     a64 __builtin_mips_dpaq_s_w_ph (a64, v2q15, v2q15)
     a64 __builtin_mips_dpaq_sa_l_w (a64, q31, q31)
     a64 __builtin_mips_dpaqx_s_w_ph (a64, v2q15, v2q15);
     a64 __builtin_mips_dpaqx_sa_w_ph (a64, v2q15, v2q15);
     a64 __builtin_mips_dpau_h_qbl (a64, v4i8, v4i8)
     a64 __builtin_mips_dpau_h_qbr (a64, v4i8, v4i8)
     a64 __builtin_mips_dpax_w_ph (a64, v2i16, v2i16);
     a64 __builtin_mips_dps_w_ph (a64, v2i16, v2i16);
     a64 __builtin_mips_dpsq_s_w_ph (a64, v2q15, v2q15)
     a64 __builtin_mips_dpsq_sa_l_w (a64, q31, q31)
     a64 __builtin_mips_dpsqx_s_w_ph (a64, v2q15, v2q15);
     a64 __builtin_mips_dpsqx_sa_w_ph (a64, v2q15, v2q15);
     a64 __builtin_mips_dpsu_h_qbl (a64, v4i8, v4i8)
     a64 __builtin_mips_dpsu_h_qbr (a64, v4i8, v4i8)
     a64 __builtin_mips_dpsx_w_ph (a64, v2i16, v2i16);
     a64 __builtin_mips_madd (a64, i32, i32);
     a64 __builtin_mips_maddu (a64, ui32, ui32);
     a64 __builtin_mips_maq_s_w_phl (a64, v2q15, v2q15)
     a64 __builtin_mips_maq_s_w_phr (a64, v2q15, v2q15)
     a64 __builtin_mips_maq_sa_w_phl (a64, v2q15, v2q15)
     a64 __builtin_mips_maq_sa_w_phr (a64, v2q15, v2q15)
     a64 __builtin_mips_msub (a64, i32, i32);
     a64 __builtin_mips_msubu (a64, ui32, ui32);
     a64 __builtin_mips_mthlip (a64, i32)
     a64 __builtin_mips_mulsa_w_ph (a64, v2i16, v2i16);
     a64 __builtin_mips_mulsaq_s_w_ph (a64, v2q15, v2q15)
     a64 __builtin_mips_mult (i32, i32);
     a64 __builtin_mips_multu (ui32, ui32);
     a64 __builtin_mips_shilo (a64, i32)
     a64 __builtin_mips_shilo (a64, imm_n32_31)
     i32 __builtin_mips_addsc (i32, i32)
     i32 __builtin_mips_addwc (i32, i32)
     i32 __builtin_mips_append (i32, i32, imm0_31);
     i32 __builtin_mips_balign (i32, i32, imm0_3);
     i32 __builtin_mips_bitrev (i32)
     i32 __builtin_mips_bposge32 (void)
     i32 __builtin_mips_cmpgdu_eq_qb (v4i8, v4i8);
     i32 __builtin_mips_cmpgdu_le_qb (v4i8, v4i8);
     i32 __builtin_mips_cmpgdu_lt_qb (v4i8, v4i8);
     i32 __builtin_mips_cmpgu_eq_qb (v4i8, v4i8)
     i32 __builtin_mips_cmpgu_le_qb (v4i8, v4i8)
     i32 __builtin_mips_cmpgu_lt_qb (v4i8, v4i8)
     i32 __builtin_mips_extp (a64, i32)
     i32 __builtin_mips_extp (a64, imm0_31)
     i32 __builtin_mips_extpdp (a64, i32)
     i32 __builtin_mips_extpdp (a64, imm0_31)
     i32 __builtin_mips_extr_r_w (a64, i32)
     i32 __builtin_mips_extr_r_w (a64, imm0_31)
     i32 __builtin_mips_extr_rs_w (a64, i32)
     i32 __builtin_mips_extr_rs_w (a64, imm0_31)
     i32 __builtin_mips_extr_s_h (a64, i32)
     i32 __builtin_mips_extr_s_h (a64, imm0_31)
     i32 __builtin_mips_extr_w (a64, i32)
     i32 __builtin_mips_extr_w (a64, imm0_31)
     i32 __builtin_mips_insv (i32, i32)
     i32 __builtin_mips_lbux (void *, i32)
     i32 __builtin_mips_lhx (void *, i32)
     i32 __builtin_mips_lwx (void *, i32)
     i32 __builtin_mips_modsub (i32, i32)
     i32 __builtin_mips_prepend (i32, i32, imm0_31);
     i32 __builtin_mips_raddu_w_qb (v4i8)
     i32 __builtin_mips_rddsp (imm0_63)
     q31 __builtin_mips_absq_s_w (q31)
     q31 __builtin_mips_addq_s_w (q31, q31)
     q31 __builtin_mips_addqh_r_w (q31, q31);
     q31 __builtin_mips_addqh_w (q31, q31);
     q31 __builtin_mips_muleq_s_w_phl (v2q15, v2q15)
     q31 __builtin_mips_muleq_s_w_phr (v2q15, v2q15)
     q31 __builtin_mips_mulq_rs_w (q31, q31);
     q31 __builtin_mips_mulq_s_w (q31, q31);
     q31 __builtin_mips_preceq_w_phl (v2q15)
     q31 __builtin_mips_preceq_w_phr (v2q15)
     q31 __builtin_mips_shll_s_w (q31, i32)
     q31 __builtin_mips_shll_s_w (q31, imm0_31)
     q31 __builtin_mips_shra_r_w (q31, i32)
     q31 __builtin_mips_shra_r_w (q31, imm0_31)
     q31 __builtin_mips_subq_s_w (q31, q31)
     q31 __builtin_mips_subqh_r_w (q31, q31);
     q31 __builtin_mips_subqh_w (q31, q31);
     v2i16 __builtin_mips_addu_ph (v2i16, v2i16);
     v2i16 __builtin_mips_addu_s_ph (v2i16, v2i16);
     v2i16 __builtin_mips_mul_ph (v2i16, v2i16);
     v2i16 __builtin_mips_mul_s_ph (v2i16, v2i16);
     v2i16 __builtin_mips_precr_sra_ph_w (i32, i32, imm0_31);
     v2i16 __builtin_mips_precr_sra_r_ph_w (i32, i32, imm0_31);
     v2i16 __builtin_mips_shrl_ph (v2i16, i32);
     v2i16 __builtin_mips_shrl_ph (v2i16, imm0_15);
     v2i16 __builtin_mips_subu_ph (v2i16, v2i16);
     v2i16 __builtin_mips_subu_s_ph (v2i16, v2i16);
     v2q15 __builtin_mips_absq_s_ph (v2q15)
     v2q15 __builtin_mips_addq_ph (v2q15, v2q15)
     v2q15 __builtin_mips_addq_s_ph (v2q15, v2q15)
     v2q15 __builtin_mips_addqh_ph (v2q15, v2q15);
     v2q15 __builtin_mips_addqh_r_ph (v2q15, v2q15);
     v2q15 __builtin_mips_muleu_s_ph_qbl (v4i8, v2q15)
     v2q15 __builtin_mips_muleu_s_ph_qbr (v4i8, v2q15)
     v2q15 __builtin_mips_mulq_rs_ph (v2q15, v2q15)
     v2q15 __builtin_mips_mulq_s_ph (v2q15, v2q15);
     v2q15 __builtin_mips_packrl_ph (v2q15, v2q15)
     v2q15 __builtin_mips_pick_ph (v2q15, v2q15)
     v2q15 __builtin_mips_precequ_ph_qbl (v4i8)
     v2q15 __builtin_mips_precequ_ph_qbla (v4i8)
     v2q15 __builtin_mips_precequ_ph_qbr (v4i8)
     v2q15 __builtin_mips_precequ_ph_qbra (v4i8)
     v2q15 __builtin_mips_preceu_ph_qbl (v4i8)
     v2q15 __builtin_mips_preceu_ph_qbla (v4i8)
     v2q15 __builtin_mips_preceu_ph_qbr (v4i8)
     v2q15 __builtin_mips_preceu_ph_qbra (v4i8)
     v2q15 __builtin_mips_precrq_ph_w (q31, q31)
     v2q15 __builtin_mips_precrq_rs_ph_w (q31, q31)
     v2q15 __builtin_mips_repl_ph (i32)
     v2q15 __builtin_mips_repl_ph (imm_n512_511)
     v2q15 __builtin_mips_shll_ph (v2q15, i32)
     v2q15 __builtin_mips_shll_ph (v2q15, imm0_15)
     v2q15 __builtin_mips_shll_s_ph (v2q15, i32)
     v2q15 __builtin_mips_shll_s_ph (v2q15, imm0_15)
     v2q15 __builtin_mips_shra_ph (v2q15, i32)
     v2q15 __builtin_mips_shra_ph (v2q15, imm0_15)
     v2q15 __builtin_mips_shra_r_ph (v2q15, i32)
     v2q15 __builtin_mips_shra_r_ph (v2q15, imm0_15)
     v2q15 __builtin_mips_subq_ph (v2q15, v2q15)
     v2q15 __builtin_mips_subq_s_ph (v2q15, v2q15)
     v2q15 __builtin_mips_subqh_ph (v2q15, v2q15);
     v2q15 __builtin_mips_subqh_r_ph (v2q15, v2q15);
     v4i8 __builtin_mips_addu_qb (v4i8, v4i8)
     v4i8 __builtin_mips_addu_s_qb (v4i8, v4i8)
     v4i8 __builtin_mips_adduh_qb (v4i8, v4i8);
     v4i8 __builtin_mips_adduh_r_qb (v4i8, v4i8);
     v4i8 __builtin_mips_pick_qb (v4i8, v4i8)
     v4i8 __builtin_mips_precr_qb_ph (v2i16, v2i16);
     v4i8 __builtin_mips_precrq_qb_ph (v2q15, v2q15)
     v4i8 __builtin_mips_precrqu_s_qb_ph (v2q15, v2q15)
     v4i8 __builtin_mips_repl_qb (i32)
     v4i8 __builtin_mips_repl_qb (imm0_255)
     v4i8 __builtin_mips_shll_qb (v4i8, i32)
     v4i8 __builtin_mips_shll_qb (v4i8, imm0_7)
     v4i8 __builtin_mips_shra_qb (v4i8, i32);
     v4i8 __builtin_mips_shra_qb (v4i8, imm0_7);
     v4i8 __builtin_mips_shra_r_qb (v4i8, i32);
     v4i8 __builtin_mips_shra_r_qb (v4i8, imm0_7);
     v4i8 __builtin_mips_shrl_qb (v4i8, i32)
     v4i8 __builtin_mips_shrl_qb (v4i8, imm0_7)
     v4i8 __builtin_mips_subu_qb (v4i8, v4i8)
     v4i8 __builtin_mips_subu_s_qb (v4i8, v4i8)
     v4i8 __builtin_mips_subuh_qb (v4i8, v4i8);
     v4i8 __builtin_mips_subuh_r_qb (v4i8, v4i8);
     v4q7 __builtin_mips_absq_s_qb (v4q7);
     void __builtin_mips_cmp_eq_ph (v2q15, v2q15)
     void __builtin_mips_cmp_le_ph (v2q15, v2q15)
     void __builtin_mips_cmp_lt_ph (v2q15, v2q15)
     void __builtin_mips_cmpu_eq_qb (v4i8, v4i8)
     void __builtin_mips_cmpu_le_qb (v4i8, v4i8)
     void __builtin_mips_cmpu_lt_qb (v4i8, v4i8)
     void __builtin_mips_wrdsp (i32, imm0_63)
</pre>
          </li><!-- Add Documentation of __builtin_mips_cache -->
        </ul>
      </div>

      <h2><a href="#newXC122target" onclick="shoh('newXC122');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.22</a></h2>

      <div style="display: block;" id="newXC122">
        <ul class="c5">
          <li>
            <p><strong>Part-support file improvements</strong> -- Several of the part-support files (e.g.
            header files, linker scripts, peripheral libraries) have been corrected. See the <a href=
            "http://bit.ly/XC32Forum">MPLAB XC32 web forum</a> for a full list of changes.</p>
          </li>

          <li>
            <p><strong>Issues Fixed</strong> -- See the <a href="#Fixes"><em>Fixed Issues</em></a> section
            for information on bug fixes addressed in this release.</p>
          </li>
        </ul>
      </div>

      <h2><a href="#newXC121target" onclick="shoh('newXC121');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.21</a></h2>

      <div style="display: block;" id="newXC121">
        <ul class="c5">
          <li>
            <p><strong>Part-support file improvements</strong> -- Several of the part-support files (e.g.
            header files, linker scripts, peripheral libraries) have been corrected. See the <a href=
            "http://bit.ly/XC32Forum">MPLAB XC32 web forum</a> for a full list of changes.</p>
          </li>
        </ul>
      </div>

      <h2><a href="#newXC120target" onclick="shoh('newXC120');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.20</a></h2>

      <div style="display: block;" id="newXC120">
        <ul class="c5">
          <li>
            <p><strong>Upgrade to GCC 4.5.2 base technology</strong> -- The MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C compiler is now based on the GNU Compiler Collection (GCC) v4.5.2.
            This GCC update addresses a number of general compiler <a href="http://bit.ly/T275hf" target=
            "doc">problem reports</a>. It also generates more efficient code than earlier XC32 releases based
            on GCC v4.5.1.</p>
          </li>

          <li>
            <p><strong>Frame-Header Optimization</strong> -- This feature, enabled with the
            <strong><tt>-mframe-header-opt</tt></strong> command-line option, allows the compiler to omit a
            few instructions for each function that does not use its incoming frame header. This feature is
            expected to improve both execution speed and code size for many applications. This option is
            disabled by default.</p>
          </li>

          <li>
            <p><strong>Use Caller Save</strong> -- This feature, enabled with the
            <strong><tt>-fuse-caller-save</tt></strong> command-line option, allows the compiler to use the
            caller-save register model. With this model, the compiler generates more efficient code for many
            applications. This option is disabled by default.</p>
          </li>

          <li>
            <p><strong>Optionally disable default ISR vectors</strong> -- The XC32 v1.11 release added a new
            default interrupt handler feature that populates the interrupt vector table with calls to the
            default handler. The v1.20 release adds a new option to disable the automatic population of the
            vector table. To use this option, pass the <strong><tt>-mno-default-isr-vectors</tt></strong>
            option when calling xc32-gcc for linking. This can be useful for applications that use the unused
            vector space for other purposes.</p>
          </li>

          <li>
            <p><strong>Builtin function for a software breakpoint</strong> -- The
            <strong><tt>__builtin_software_breakpoint()</tt></strong> function allows you to place a software
            breakpoint into your source code programmatically. Use this builtin function when debugging using
            the MPLAB REAL ICE, MPLAB ICD3, or MPLAB X simulator for generated MIPS32r2 code. <em>You should
            disable calls to this builtin function when you are not debugging.</em> See the example
            below.</p>
            <pre>
/*
 * When __DEBUG is defined, debug_break() resolves to an MPLAB XC32 builtin
 * function, which creates a MIPS32 software debug-breakpoint (sddbp 0) instruction.
 */
#if defined(__DEBUG)
 #define debug_break() __builtin_software_breakpoint()
#else
 #define debug_break() ((void)0)
#endif

int kaibab(int coconino)
{
  int retval = 0;
  if (coconino)
    {
      debug_break();
      retval = 1;
    }
  return retval;
}
</pre>
          </li>

          <li>
            <p><strong>xclm <tt>-licensepath</tt></strong> -- The new <strong><tt>-licensepath</tt></strong>
            xclm option causes the license manager to print the license path that it is using for license
            files.</p>
          </li>
        </ul>
      </div>

      <h2><a href="#newXC111target" onclick="shoh('newXC111');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.11</a></h2>

      <div style="display: block;" id="newXC111">
        <ul class="c5">
          <li>
            <p><strong>New Part Support</strong> - Support for several new PIC32MX devices was added for this
            release. See <a href="#Devices">Devices Supported</a> for a full list of devices.</p>
          </li>

          <li>
            <p><strong>Default Interrupt Handler</strong> - For all interrupt vectors without specific
            handlers, a default interrupt handler will be installed. The default interrupt handler is
            supplied by the libpic32.a library and will cause a debug breakpoint and reset the device. An
            application may override the default handler and provide an application-specific default
            interrupt handler by declaring an interrupt function with the name
            <tt>_DefaultInterrupt</tt>.</p>
          </li>

          <li>
            <p><strong>New builtin functions</strong> - The compiler introduces several new builtin
            functions.</p>

            <ul>
              <li>
                <p>The following builtins get run-time information about section addresses and sizes:</p>

                <ul>
                  <li><tt>unsigned long __builtin_section_begin(quoted-section-name)</tt></li>

                  <li><tt>unsigned long __builtin_section_size(quoted-section-name)</tt></li>
                </ul>
              </li>

              <li>
                <p>The following builtins inspect or manipulate the current CPU interrupt state:</p>

                <ul>
                  <li><tt>unsigned int __builtin_get_isr_state(void)</tt></li>

                  <li><tt>void __builtin_set_isr_state(unsigned int)</tt></li>

                  <li><tt>void __builtin_disable_interrupts(unsigned int)</tt></li>

                  <li><tt>void __builtin_enable_interrupts(unsigned int)</tt></li>
                </ul>
              </li>
            </ul>
          </li>

          <li>
            <p><strong>Keep function attribute</strong> - The <tt>__attribute__((keep))</tt> may be applied
            to a function. The <tt>keep</tt> attribute will prevent the linker from removing the function
            with <tt>--gc-sections</tt>, even if it is unused. See the linker user's guide for more
            information on section garbage collection using the <tt>--gc-sections</tt> option.</p>
          </li>

          <li>
            <p><strong>Optimize function attribute</strong> - You can now use the optimize attribute to
            specify different optimization options for various functions within a source file. Arguments can
            either be numbers or strings. Numbers are assumed to be an optimization level. Strings that begin
            with O are assumed to be an optimization option. This feature can be used for instance to have
            frequently executed functions compiled with more aggressive optimization options that produce
            faster and larger code, while other functions can be called with less aggressive options.</p>

            <p><tt>int <strong>__attribute__((optimize("-O3")))</strong> pandora (void)<br>
            {<br>
            &nbsp;&nbsp;if (maya &gt; axton) return 1;<br>
            &nbsp;&nbsp;return 0;<br>
            }</tt></p>
          </li>
        </ul>
      </div>

      <h2><a href="#newXC110target" onclick="shoh('newXC110');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.10</a></h2>

      <div style="display: block;" id="newXC110">
        <ul class="c5">
          <li>
            <p><strong>Support for C++</strong> - This release introduces support for the C++ programming
            language with run-time type identification features (`<tt>dynamic_cast</tt>' and
            `<tt>typeid</tt>') and C++ exceptions. When building an application with a C++ source file (.cpp)
            from the command line, use the <tt>xc32-g++</tt> compilation driver. MPLAB X IDE v1.41 (or
            later), will automatically handle C++ source files with the .cpp file extension. For more
            information on compiling a C++ project, see the MPLAB XC32 C/C++ Compiler User's Guide. C++
            support in MPLAB XC32 requires a free or PRO C++ license, which must be activated. Visit <a href=
            "http://www.microchip.com/MPLABXCCompilers">http://www.microchip.com/MPLABXCCompilers</a> to
            obtain a free or PRO C++ license</p>
          </li>

          <li>
            <p><strong>Standard C++ Library</strong> - This release provides a full Standard C++ Library,
            including Standard Template Library (STL), matching the ISO C++ standard as of 2003. When linking
            your application with the <tt>xc32-g++</tt> driver, the linker will automatically link this
            Standard C++ Library. In addition, when compiling and linking an application with
            <tt>xc32-g++</tt>, the toolchain will link the C++ libc for seamless compatibility with the
            Standard C++ library.</p>

            <p><strong>NOTE:</strong> Do <em>not</em> specify an MPLAB XC32 system include directory (e.g.
            <tt>/pic32mx/include/</tt>) in your project properties. The <tt>xc32-gcc</tt> and
            <tt>xc32-g++</tt> compilation drivers automatically select the default C libc or the C++ libc and
            their respective include-file directory for you. Manually adding a system include file path may
            disrupt this mechanism and cause the incorrect libc include files to be compiled into your
            project, causing a conflict between the include files and the library. Note that adding a system
            include path to your project properties has never been a recommended practice.</p>
          </li>

          <li>
            <p><strong>Roaming Licenses</strong> - The XC License Manager (xclm) now supports roaming of a
            network-server license. Aimed at mobile users, this feature allows a floating license to go off
            network for a short period of time. Using this feature, you can disconnect from the network and
            still use your MPLAB XC compiler. See the XC License Manager User's Guide for more
            information.</p>
          </li>

          <li>
            <p><strong>Heap-required diagnostic</strong> - The linker will now emit an error when it
            determines that the application requires a heap, but a heap size is not defined in the linker
            script or in the linker options. When building from the command line, pass the
            <tt>--defsym=_min_heap_size=&lt;size&gt;</tt> option to the linker. When building from MPLAB X,
            set an <em>application-specifc heap size</em> on the <tt>xc32-ld</tt> node of the project
            properties. <strong>Note that many C++ applications require a heap due to use of the <tt>new</tt>
            operator, but the minimum size is determined by the application's usage of <tt>malloc()</tt> and
            the C++ <tt>new</tt> operator.</strong></p>
          </li>
        </ul>
      </div>

      <h2><a href="#newXC100target" onclick="shoh('newXC100');">New Features in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.00</a></h2>

      <div style="display: block;" id="newXC100">
        <ul class="c5">
          <li>
            <p><strong>Mac OS X and Linux releases</strong> - The MPLAB<font size=
            "-3"><sup>&reg;</sup></font> XC Compilers are now officially released for Windows<font size=
            "-3"><sup>&reg;</sup></font>, Mac OS X, and Linux x86.</p>
          </li>

          <li>
            <p><strong>Flexible licensing options</strong> - The MPLAB XC PRO compiler produces the most
            highly optimized code with support for the MIPS16 ISA mode, while the Standard compiler offers a
            low-cost option with many optimization features. The Free compiler provides a zero-cost
            toolchain, while still providing a level of optimization that is suitable for many
            applications.</p>

            <p>PRO and standard compilers are available with workstation licenses or network-server licenses.
            Visit the <a href=
            "http://www.microchip.com/MPLABXCcompilers">http://www.microchip.com/MPLABXCcompilers</a> website
            for more information on MPLAB XC compiler licensing.</p>
          </li>

          <li>
            <p><strong>Fill Unused Program Memory</strong> -- The following command-line option is now
            recognized by the compiler and implemented by the linker.</p>

            <p><tt>--fill=[wn:]expression[@address[:end_address] | unused]</tt></p>

            <p><em>address</em> &amp; <em>end_address</em> will specify the range of program memory addresses
            to fill. If <em>end_address</em> is not provided then the expression will be written to the
            specific memory location at address <em>address</em>. The optional literal value <em>unused</em>
            may be specified to indicate that all unused memory will be filled. If none of the location
            parameters are provided, all unused memory will be filled. <em>expression</em> will describe how
            to fill the specified memory. The following options are available:</p>

            <ul>
              <li><strong>a single value;</strong> <tt>xc32-ld --fill=0x12345678@unused</tt></li>

              <li><strong>range of values;</strong> <tt>xc32-ld
              --fill=1,2,3,4,097@0x9d000650:0x9d000750</tt></li>

              <li><strong>an incrementing value;</strong> <tt>xc32-ld --fill=7+=911@unused</tt></li>
            </ul>

            <p>By default, the linker will fill using data that is instruction-word length. For PIC32, the
            default fill width is 32 bits. However, you may specify the value width using
            [w<strong>n</strong>:], where n is the fill value's width and n belongs to [1,2,4,8].</p>

            <p>Multiple fill options may be specified on the command line; The linker will always process
            fill options at specific locations first.</p>

            <p>The fill feature is handled by the linker, but passing the option to the <tt>xc32-gcc</tt>
            compilation driver will cause them to be passed to the linker. When passing the option to
            <tt>xc32-gcc</tt>, be sure to pass it directly to <tt>xc32-gcc</tt> rather than using a -Xlinker
            or -Wl option.</p>
          </li>

          <li>
            <p><a name="OPTIONAL_directive" id="OPTIONAL_directive"><strong>Linker-Script <tt>OPTIONAL</tt>
            directive</strong></a> - The <tt>OPTIONAL</tt> directive specifies an object file or library
            archive that should be opened if available. If the object or library file cannot be found, the
            link will continue without error unless there are unresolved references in the application.</p>
          </li>

          <li>
            <p><strong>Predefined macros</strong> - The MPLAB<font size="-3"><sup>&reg;</sup></font> XC
            compilers provide predefined macros to be used for conditional compilation. They are equivalent
            to:</p>

            <ul>
              <li><tt>#define __XC 1</tt></li>

              <li><tt>#define __XC32 1</tt></li>

              <li><tt>#define __XC32_VERSION</tt> <em>&lt;version*1000&gt;</em><br>
              where &lt;version*1000&gt; is the compiler's version number multiplied by 1000 (e.g. 1230 for
              v1.23)</li>
            </ul>
          </li>

          <li>
            <p><strong>UART1 or UART2 default for stdout/stderr</strong> - By default the stdout and stderr
            streams (used by functions such as printf) output to UART2. This is useful on many Microchip demo
            boards such as the Explorer 16. Often times, however, you may wish to use UART1. The
            MPLAB<font size="-3"><sup>&reg;</sup></font> XC32 compiler provides a __XC_UART variable that you
            may use to switch the default to UART 1. After including the xc.h header file, just add the
            following statement to your code in one of your functions such as main(): <tt>__XC_UART = 1;</tt>
            Currently, only UART1 and UART2 are supported by this mechanism. To write to another peripheral,
            provide a custom <tt>void _mon_putc (char c)</tt> implementation in your project as described in
            the 32-bit Libraries Guide.</p>
          </li>

          <li>
            <p><strong>PIC32 Starter Kit Debug IO</strong> - The PIC32 Starter Kit IO mechanism using DBINIT,
            DBPRINTF, and related functions is now line buffered. This change greatly improves output speed
            but the stream will be flushed only when printing a line feed ('\n') character.</p>
          </li>

          <li>
            <p><strong><tt>#pragma message <em>string</em></tt></strong> - Prints <em>string</em> as a
            compiler message on compilation. The message is informational only, and is neither a compilation
            warning nor an error.</p>
            <pre>
#pragma message "Compiling " __FILE__ "..."
</pre>

            <p><em>string</em> may be parenthesized, and is printed with location information. For
            example,</p>
            <pre>
          #define DO_PRAGMA(x) _Pragma (#x)
          #define TODO(x) DO_PRAGMA(message ("TODO - " #x))

          TODO(Remember to fix this)
</pre>

            <p>prints `<tt>/tmp/file.c:4: note: #pragma message: TODO - Remember to fix this</tt>'.</p>
          </li>

          <li>
            <p><strong>Part-support file licensing</strong> - The part-support header files (e.g.
            pic32mx/include/proc/p32mx110f016b.h) are now released under the open-source BSD 3-Clause
            License. See the comments in each file for the license text. In addition, the source code for the
            processor SFR definition module is released under the BSD 3-Clause License. The files are located
            with the library source files in the pic32-libs/proc directory (e.g.
            /pic32-libs/proc/32MX775F256H/p32mx775f256h.S) .</p>
          </li>
        </ul>
      </div>

      <center>
        <font size="-1">[ <a href="#ToC">Table of Contents</a> ] [ <a href="#WhatsNew">What's new</a> ] [
        <a href="#Migration">Migration Issues</a> ] [ <a href="#Fixes">Fixed Issues</a> ] [ <a href=
        "#Limits">Known Issues</a> ]</font>
      </center>

      <h2><a href="#addedinmplabc32" onclick="shoh('newmplabc32');">Features added in prior MPLAB<font size=
      "-3"><sup>&reg;</sup></font> C32 releases</a></h2>

      <div style="display: block;" id="newmplabc32">
        <ul class="c5">
          <li>
            <h2><a href="#new201target" onclick="shoh('new201');">Features added in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v2.01</a></h2>

            <div style="display: block;" id="new201">
              <ul class="c5">
                <li>
                  <p><strong>New device support</strong> -- This release introduces support for several new
                  PIC32MX1 and MX2 devices.</p>
                </li>

                <li>
                  <p><strong>unsupported(message) attribute</strong> -- Use the unsupported(message)
                  attribute to emit a message whenever an unsupported function or variable is used.</p>

                  <p><tt>__attribute__((unsupported("this feature is not supported on this device"))) void
                  function(void);</tt></p>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#newXC111target" onclick="shoh('new200');">Features added in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v2.00</a></h2>

            <div style="display: block;" id="new200">
              <ul class="c5">
                <li>
                  <p><strong>Upgrade to GCC 4.5.1 technology</strong> -- The MPLAB<font size=
                  "-3"><sup>&reg;</sup></font> C compiler is now based on the GNU Compiler Collection (GCC)
                  v4.5.1. This new base technology introduces a new optimization framework that allows for
                  significantly improved generated code efficiency, resulting in both an improved code-size
                  footprint and a faster execution speed.</p>
                </li>

                <li>
                  <p><strong>Upgrade to Binutils 2.20</strong> -- The MPLAB<font size=
                  "-3"><sup>&reg;</sup></font> ASM32 assembler, LINK32 linker, and binary utilities are now
                  based on GNU Binutils 2.20.</p>
                </li>

                <li>
                  <p><strong><tt>address</tt>(<em>addr</em>) C Attribute for functions and variables</strong>
                  -- The <tt>address</tt> attribute specifies an absolute virtual address for the function or
                  variable. Be sure to specify the address attribute using an appropriate virtual address.
                  For data variables, the address is typically in the range [0xA0000000,0xA00FFFFC]. For
                  program functions, the address is typically in the range [0x9D000000,0x9D0FFFFC]. A linker
                  relocation error may indicate an out-of-range address.</p>

                  <p>This attribute can be used in conjunction with a <tt>section</tt> attribute. This can be
                  used to start a group of variables at a specific address:<br>
                  <tt>int foo __attribute__((section("mysection"),address(0xA0001000)));<br>
                  int bar __attribute__((section("mysection")));<br>
                  int baz __attribute__((section("mysection")));<br>
                  __attribute__((address(0x9D00800))) void funky (char* parm)</tt></p>

                  <p>Note that the "small" data and bss (.sdata, .sbss, etc.) sections used for GP-relative
                  addressing are mapped in the built-in linker script. This is because "small" data variables
                  must be grouped together so that they are within range of the more efficient GP-relative
                  addressing mode. <em>To avoid conflict with these linker-script mapped sections, choose
                  high addresses for your absolute-address variables.</em></p>

                  <p><a href="#addressforvariables" onclick=
                  "shoh('new200_ADDRVAR_READMORE');">[Show/Hide]</a></p>

                  <div style="display: block;" id="new200_ADDRVAR_READMORE">
                    <ul>
                      <li>
                        <p><strong>Notes</strong></p>

                        <ul>
                          <li>
                            <p><tt><strong>GP-Relative addressing</strong></tt> -- The compiler will not use
                            gp-relative addressing for variable attributed with an absolute address. This
                            means that the compiler may generate slightly less efficient code to access these
                            variables.</p>
                          </li>

                          <li>
                            <p><tt><strong>Error checking</strong></tt> -- There is no error checking on the
                            address. The section will be located at the specified address regardless of the
                            memory-region ranges specified in the linker script or the actual ranges on the
                            target device. The application code is responsible for ensuring that the address
                            is valid for the target device.</p>
                          </li>

                          <li>
                            <p><tt><strong>Common</strong></tt> -- Variables with the address attribute will
                            not be located in the standard common section.</p>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </div>
                </li>

                <li>
                  <p><strong><tt>space</tt>(<em>space</em>) C Attribute for Variables</strong> -- Normally,
                  the compiler allocates variables in general data space. Use the space attribute to direct
                  the compiler to allocate a variable in a specific memory space. In this release, the
                  compiler accepts two space attributes: <tt>prog</tt> and <tt>data</tt>. The <tt>prog</tt>
                  space tells the toolchain to allocate the variable to the program memory space (the memory
                  region named kseg0_program_memory in the linker script). The <tt>data</tt> space tells the
                  toolchain to allocate the variable to the data memory space (region kseg1_data_mem).</p>

                  <p>Note that when combining the space attribute with the address attribute, the section
                  will be placed at the address specified in the address attribute, but the generated code
                  will use the specified space attribute. The application code must ensure that the
                  combination makes sense for the application.</p><tt>unsigned int foo
                  __attribute__((space(prog))) = 1;<br>
                  unsigned int vb __attribute__((space(data))) = 2;<br>
                  unsigned int baz __attribute__((space(data)));<br></tt>
                </li>

                <li>
                  <p><strong><tt>ramfunc</tt> C Attribute for Functions</strong> -- This new attribute places
                  a function into data memory. Previous releases relied on a magic section name, .ramfunc,
                  and data-memory mapping in the linker script. The new ramfunc attribute places the function
                  at the highest appropriately aligned address. Note that due to ramfunc alignment and
                  placement requirements, the address attribute should not be used with the ramfunc
                  attribute. The presence of a ramfunc section causes the linker to emit the symbols
                  necessary for the crt0.S startup code to initialize the bus matrix appropriately. Use this
                  new attribute along with the far/longcall attribute.</p>

                  <p><tt>__attribute__((ramfunc,section(".ramfunc"),far,unique_section)) unsigned int
                  myramfunct (void)<br>
                  {<br>
                  &nbsp;&nbsp;// code<br>
                  }<br></tt></p>

                  <p>A macro in the sys/attribs.h header file makes the attributes simple to use:<br>
                  <tt>#include &lt;sys/attribs.h&gt;<br>
                  __longramfunc__ unsigned int myramfunct (void)<br>
                  {<br>
                  &nbsp;&nbsp;// code<br>
                  }<br></tt></p>
                </li>

                <li>
                  <p><strong><tt>persistent</tt> C Attribute for Variables</strong> -- The new
                  <tt>persistent</tt> attribute specifies that the variable should not be initialized or
                  cleared at startup. Use a variable with the <tt>persistent</tt> attribute to store state
                  information that will remain valid after a device reset. The persistent attribute causes
                  the compiler to place the variable in special .bss-like section that does not get cleared
                  by the default startup code. Because the section is always in data space, this attribute is
                  not compatible with the space() attribute.</p>

                  <p><tt>int last_mode __attribute__((persistent));</tt></p>
                </li>

                <li>
                  <p><strong><tt>-mtext=</tt>"<em>scn-name</em>" Compiler Command-line Option</strong> --
                  Specifying <tt>-mtext=</tt><em>scn-name</em> will cause text (program code) to be placed in
                  a section named <em>scn-name</em> rather than the default .text section. No white spaces
                  should appear around the =. This command can be useful when developing a bootloader.</p>

                  <p><tt>pic32-gcc bootloader.c -mtext="MySectionName,address(0x9D001000)"
                  -mprocessor=32MX795F512L</tt></p>
                </li>

                <li>
                  <p><strong>New <tt>.section</tt> Assembly-code Directive</strong> -- The .section directive
                  now accepts a list of attributes rather than a set of quoted flags. Quoted section flags
                  are now deprecated.</p>

                  <p><a href="#linkerallocation" onclick=
                  "shoh('new200_ASMSECTIONDIRECTIVE_READMORE');">[Show/Hide]</a></p>

                  <div style="display: block;" id="new200_ASMSECTIONDIRECTIVE_READMORE">
                    <p>Syntax: <strong><tt>.section</tt> <em>name</em> <tt>[</tt><em>,
                    attr1</em><tt>[</tt><em>,...,attr</em><sub>n</sub><tt>]]</tt></strong><br></p>

                    <p>Currently supported section-type attributes:</p>

                    <ul>
                      <li>code - Executable code or constant data in program memory</li>

                      <li>data - Initialized storage in data memory</li>

                      <li>bss - Uninitialized storage in data memory</li>

                      <li>persist - Persistent storage in data memory</li>

                      <li>ramfunc - Executable code in data memory</li>
                    </ul>

                    <p>Currently supported modifier attributes:</p>

                    <ul>
                      <li>address(<em>a</em>) - Locate at absolute address <em>a</em></li>

                      <li>info - Do not allocate or load</li>
                    </ul>
                  </div>
                </li>

                <li>
                  <p><strong>Linker Allocation Algorithm</strong> -- In order to effectively make use of
                  memory with the presence of absolute sections, the linker now uses a best-fit allocator.
                  Note that many standard sections, previously mapped in the default built-in linker script,
                  are now handled by the best-fit allocator. Please see the <a href="#Migration">Migration
                  Issues</a> topic below for important information regarding application-specific linker
                  scripts and startup code.</p>

                  <p>Linker allocation steps</p>

                  <ol>
                    <li>Mapping input sections to output sections</li>

                    <li>Assigning output sections to regions</li>

                    <li>Allocating unmapped sections</li>
                  </ol>

                  <p><a href="#linkerallocation" onclick=
                  "shoh('new200_LINKERALLOCATON_READMORE');">[Show/Hide]</a></p>

                  <div style="display: block;" id="new200_LINKERALLOCATON_READMORE">
                    <p>Steps 1 and 2 are performed by the sequential memory allocator. Input sections which
                    appear in the linker script are assigned to specific memory regions in the target
                    devices. Addresses within a memory region are allocated sequentially, beginning with the
                    lowest address and growing upwards.</p>

                    <p>Step 3 is performed by a best-fit memory allocator. Input sections that do not appear
                    in the linker script are assigned to memory regions according to their attributes. The
                    best-fit allocator makes efficient use of any remaining memory, including gaps between
                    output sections that may have been left by the sequential allocator.</p>

                    <p>Ramfunc attributed sections are allocated by the best-fit allocator in step 3.
                    Sections designated with the ramfunc attribute should not appear in the linker script as
                    there are special location and alignment requirements for executable code in RAM.</p>

                    <p><strong>Absolute sections</strong> - When specifying an absolute section (using either
                    the C or assembly address attribute), the application code must take care not to use the
                    same memory as a section mapped in the linker script. This would result in a linker
                    error.</p>

                    <p>To help avoid this situation, the default linker script no longer maps most standard
                    sections such as the .text, .data, .bss, or .ramfunc section. By not mapping these
                    sections in the linker script, we allow these sections to be allocated using the new
                    best-fit allocator rather than the sequential allocator.</p>

                    <p>The exception is the "small" data sections used for gp-relative addressing. Because
                    these sections must be grouped together, they are mapped in the linker script. A future
                    toolchain release may allow the "small" data sections to be allocated by the best-fit
                    allocator.</p>
                  </div>
                </li>

                <li>
                  <p><strong>Data Initialization using a Template and Updated Startup Code</strong> -- The
                  linker now generates a data-initialization template (.dinit section) that the startup code
                  uses to initialize variables in data sections. In previous releases, initialized data
                  sections were sequentially allocated so a simple block copy was sufficient. However, since
                  this release supports variables at absolute addresses, a new data-initialization template
                  is required to initialize non-contiguous data sections.</p>

                  <p>The linker places the initialization template in the .dinit section. The crt0.S startup
                  code has been updated to initialize data using the new template rather than a block copy.
                  <strong>The old startup code will not initialize data properly using this version of the
                  language tools.</strong></p>
                </li>

                <li>
                  <p><strong>Stack and heap allocation</strong> -- The stack and heap are now dynamically
                  generated. Previous releases used output sections specified in the linker script to
                  allocate the stack and heap. The linker now finds the largest available gap in memory and
                  uses that gap for the heap and stack.</p>

                  <p>As in earlier versions, the <tt>_min_stack_size</tt> and <tt>_min_heap_size</tt> linker
                  symbols define the minimum size of the stack and the size of the heap. The size specified
                  for the heap is the exact size to be allocated while the size allocated for the stack is
                  the minimum size allocated.</p>

                  <p>The linker-generated memory usage report now displays these dynamically allocated stack
                  and heap areas. Because the stack expands in size to use the entire gap, the total is not
                  added in to the total data memory usage. Only the minimum stack size specified by the
                  application is added to the total.</p><tt>pic32-gcc sourcecode.c
                  -Wl,--defsym,_min_stack_size=2048,--defsym,_min_heap_size=1024</tt>

                  <p><tt>pic32-gcc object1.o object2.o -Wl,--defsym,_min_heap_size=1024,--report-mem
                  -omyproject.elf</tt></p>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#new112target" onclick="shoh('new112');">Features added in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.12</a></h2>

            <div style="display: block;" id="new112">
              <ul class="c5">
                <li>
                  <p><strong>Default short double type</strong> -- The compiler now uses a 32-bit double type
                  by default. This change makes the PIC32 compiler more consistent with the compiler for
                  PIC24 MCUs and dsPIC DSCs. You can restore the 64-bit double type using the
                  <tt>-fno-short-double</tt> compiler option.</p>
                </li>

                <li>
                  <p><strong>Standard C Library</strong> -- This release introduces a new version of Lib C
                  that features a generally smaller footprint than previous the lib C. Microchip is in the
                  process of standardizing on one lib C implementation across all first-party compilers. This
                  standardization will smooth your migration path both up and down the Microchip MCU product
                  line, allowing you to more easily move between MCU product lines as your application
                  requirements evolve. The compiler uses the new lib C by default. See the <a href=
                  "#Migration">Migration Issues</a> topic for more information.</p>
                </li>

                <li>
                  <p><strong>Smart IO v2</strong> -- Previous compiler releases detected floating-point and
                  non-floating point conversion specifiers in calls to formatted IO functions. The toolchain
                  then linked either a full function or an integer-only function as appropriate for your
                  application.</p>

                  <p>Version 2 of the smart-IO feature now differentiates between additional types of
                  conversion specifiers. This allows the toolchain to provide a more finely tuned
                  implementation of the formatted IO function that closely matches your application's
                  requirements thereby resulting in in additional code-size improvements.</p>
                </li>

                <li>
                  <p><strong>stdout to UART 1</strong> -- The C32 stdio library also now support C30-style
                  UART output. By default stdin/out goes to UART2 for use on the Explorer 16 board or other
                  boards that may use UART2. The application may now use <tt>__C32_UART = 1;</tt> to have
                  stdin/out redirected to use UART1 instead. Currently, the mechanism supports only UART1 and
                  UART2.</p>

                  <p>For stdout, the application may provide an application-specific implementation of
                  write(), _mon_write(), or _mon_putc(). Likewise for stdin, the application may provide an
                  application- specfic implementation of read() or _mon_getc(). The default source files for
                  these functions are provided in pic32-libs\libc\stubs. You may wish to extend or customize
                  the code by adding a copy to your project.</p>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#new111btarget" onclick="shoh('new111b');">Features added in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.11(b)</a></h2>

            <div style="display: block;" id="new111b">
              <ul class="c5">
                <li>
                  <p><strong>Part-Support Update</strong> -- The v1.11(b) release is a part-support update
                  only. The part-support files (header files, linker scripts, processor libraries) for
                  several devices have been updated. In addition, this release contains updated peripheral
                  libraries. See the peripheral-library documentation for further details.</p>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#new111target" onclick="shoh('new111');">Features added in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.11(a)</a></h2>

            <div style="display: block;" id="new111">
              <ul class="c5">
                <li>
                  <p><strong>Builtin functions for CP0 register access</strong> -- This release introduces a
                  few new compiler builtin functions that simplify access to the PIC32 coprocessor 0 (CP0)
                  registers. Combine these new builtin functions with macros defined in the cp0defs.h and
                  p32xxxx.h header files for easy access to the various CP0 registers.</p>

                  <p>In earlier compiler releases, the p32xxxx.h header file defined _mfc0/_mtc0 preprocessor
                  macros that utilized extended inline assembly to generate the mfco and mtc0 instructions.
                  These _mfc0 and _mtc0 macros are updated to utilize the new builtin funtions instead of
                  inline assembly.</p>

                  <p>NOTE: To access these CP0 registers, the compiler must generate assembly instructions
                  (mfc0 &amp; mtc0) that are supported in only the mips32 ISA mode. Therefore, when calling
                  one of these functions from a mips16 function, the compiler must generate extra code to
                  switch from mips16 mode back to the base mips32 mode before executing the instruction and
                  then back to mips16 mode after executing the instruction.</p>

                  <p><a href="#new111_CP0_builtinfunctions" onclick=
                  "shoh('new111_CP0_builtinfunctions');">[Show/Hide]</a></p>

                  <div style="display: block;" id="new111_CP0_builtinfunctions">
                    <ul>
                      <li>
                        <dl class="c9">
                          <dt><tt><strong>unsigned int __builtin_mfc0(reg,sel)</strong></tt></dt>

                          <dd>
                            Returns the value from the CP0 register <tt>reg,sel</tt>. (Move From Coprocessor
                            0.) Both <tt>reg</tt> and <tt>sel</tt> must be immediate values.

                            <p>Example 1:<br>
                            <tt>val = <strong>__builtin_mfc0 (12,0)</strong>;</tt></p>

                            <p>Example 2:<br>
                            <tt>#include &lt;cp0defs.h&gt;<br>
                            void funct (void) {<br>
                            &nbsp;&nbsp; unsigned int val;<br>
                            &nbsp;&nbsp; val = <strong>__builtin_mfc0
                            (_CP0_STATUS,_CP0_STATUS_SELECT)</strong>;<br>
                            }</tt></p>
                          </dd>
                        </dl>
                      </li>

                      <li>
                        <dl class="c9">
                          <dt><tt><strong>void __builtin_mtc0(reg,sel,value)</strong></tt></dt>

                          <dd>
                            Move <tt>value</tt> into the CP0 register<tt>reg,sel</tt>. (Move To Coprocessor
                            0.) Both <tt>reg</tt> and <tt>sel</tt> must be immediate values.

                            <p>Example 1:<br>
                            <tt><strong>__builtin_mtc0 (12,0,0x00100000u)</strong>;</tt></p>

                            <p>Example 2:<br>
                            <tt>#include &lt;cp0defs.h&gt;<br>
                            void funct (void) {<br>
                            &nbsp;&nbsp; unsigned int val;<br>
                            &nbsp;&nbsp; /* code here */<br>
                            &nbsp;&nbsp; <strong>__builtin_mtc0
                            (_CP0_STATUS,_CP0_STATUS_SELECT,val)</strong>;<br>
                            }</tt></p>
                          </dd>
                        </dl>
                      </li>

                      <li>
                        <dl class="c9">
                          <dt><tt><strong>unsigned int __builtin_mxc0(reg,sel,value)</strong></tt></dt>

                          <dd>
                            Exchange/Swap <tt>value</tt> and the CP0 register <tt>reg,sel</tt>. Move
                            <tt>value</tt> to the CP0 register <tt>reg,sel</tt> and return the previous
                            value. Both <tt>reg</tt> and <tt>sel</tt> must be immediate values.

                            <p>Example 1:<br>
                            <tt>oldval = <strong>__builtin_mxc0 (12,0,0x00100000u)</strong>;</tt></p>

                            <p>Example 2:<br>
                            <tt>#include &lt;cp0defs.h&gt;<br>
                            void funct (void) {<br>
                            &nbsp;&nbsp; unsigned int newval, oldval;<br>
                            &nbsp;&nbsp; /* code here */<br>
                            &nbsp;&nbsp; oldval = <strong>__builtin_mxc0
                            (_CP0_STATUS,_CP0_STATUS_SELECT,newval)</strong>;<br>
                            }</tt></p>
                          </dd>
                        </dl>
                      </li>

                      <li>
                        <dl class="c9">
                          <dt><tt><strong>unsigned int __builtin_bcc0(reg,sel,clr)</strong></tt></dt>

                          <dd>
                            Bit clear non-zero bits from <tt>clr</tt> in the CP0 register <tt>reg,sel</tt>
                            and return the previous value of the CP0 register. Both <tt>reg</tt> and
                            <tt>sel</tt> must be immediate values.

                            <p>Example:<br>
                            <tt>#include &lt;cp0defs.h&gt;<br>
                            void funct (void) {<br>
                            &nbsp;&nbsp; unsigned int clear, oldval;<br>
                            &nbsp;&nbsp; /* code here */<br>
                            &nbsp;&nbsp; oldval = <strong>__builtin_bcc0
                            (_CP0_STATUS,_CP0_STATUS_SELECT,clear)</strong>;<br>
                            }</tt></p>

                            <p>This is equivalent to<br>
                            <tt>&nbsp;&nbsp; oldval = __builtin_mfc0 (_CP0_STATUS,_CP0_STATUS_SELECT);<br>
                            &nbsp;&nbsp; __builtin_mtc0 (_CP0_STATUS,_CP0_STATUS_SELECT, oldval &amp;
                            ~(clear));</tt><br>
                            but the bcc0 builtin may generate more efficient code, especially when called
                            from mips16 mode.</p>
                          </dd>
                        </dl>
                      </li>

                      <li>
                        <dl class="c9">
                          <dt><tt><strong>unsigned int __builtin_bsc0(reg,sel,set)</strong></tt></dt>

                          <dd>
                            Bit set non-zero bits from <tt>set</tt> in the CP0 register <tt>reg,sel</tt> and
                            return the previous value of the CP0 register. Both <tt>reg</tt> and <tt>sel</tt>
                            must be immediate values.

                            <p>Example:<br>
                            <tt>#include &lt;cp0defs.h&gt;<br>
                            void funct (void) {<br>
                            &nbsp;&nbsp; unsigned int set, oldval;<br>
                            &nbsp;&nbsp; /* code here */<br>
                            &nbsp;&nbsp; oldval = <strong>__builtin_bsc0
                            (_CP0_STATUS,_CP0_STATUS_SELECT,set)</strong>;<br>
                            }</tt></p>

                            <p>This is equivalent to<br>
                            <tt>&nbsp;&nbsp; oldval = __builtin_mfc0 (_CP0_STATUS,_CP0_STATUS_SELECT);<br>
                            &nbsp;&nbsp; __builtin_mtc0 (_CP0_STATUS,_CP0_STATUS_SELECT, oldval |
                            (set));</tt><br>
                            but the bsc0 builtin may generate more efficient code, especially when called
                            from mips16 mode.</p>
                          </dd>
                        </dl>
                      </li>

                      <li>
                        <dl class="c9">
                          <dt><tt><strong>unsigned int __builtin_bcsc0(reg,sel,clr,set)</strong></tt></dt>

                          <dd>
                            Bit clear non-zero bits from <tt>clr</tt> and bit set non-zero bits from
                            <tt>set</tt> in the CP0 register <tt>reg,sel</tt>. Return the previous value of
                            the CP0 register. Both <tt>reg</tt> and <tt>sel</tt> must be immediate values.

                            <p>Example:<br>
                            <tt>#include &lt;cp0defs.h&gt;<br>
                            void funct (void) {<br>
                            &nbsp;&nbsp; unsigned int clr, set, oldval;<br>
                            &nbsp;&nbsp; /* code here */<br>
                            &nbsp;&nbsp; oldval = <strong>__builtin_bcsc0
                            (_CP0_STATUS,_CP0_STATUS_SELECT,clr,set)</strong>;<br>
                            }</tt></p>

                            <p>This is equivalent to<br>
                            <tt>&nbsp;&nbsp; oldval = __builtin_mfc0 (_CP0_STATUS,_CP0_STATUS_SELECT);<br>
                            &nbsp;&nbsp; __builtin_mtc0 (_CP0_STATUS,_CP0_STATUS_SELECT, (oldval &amp;
                            ~(clr)) | (set));</tt><br>
                            but the bcsc0 builtin may generate more efficient code, especially when called
                            from mips16 mode.</p>
                          </dd>
                        </dl>
                      </li>
                    </ul>
                  </div>
                </li>

                <li>
                  <p><strong>Upgrade to binutils v2.19</strong> -- The MPLAB<font size=
                  "-3"><sup>&reg;</sup></font> Assembler, Linker, and Utilities for PIC32 MCUs are now based
                  on GNU Binutils v2.19. This platform upgrade includes a few new features and bug fixes.</p>

                  <ul>
                    <li>
                      <strong>Assembler</strong>

                      <ul>
                        <li>Macros with a variable number of arguments are now supported. See the <a href=
                        "http://sourceware.org/binutils/docs-2.20/as/Macro.html#Macro">Binutils
                        documentation</a> for more information.</li>

                        <li>A redefinition of a macro now results in an error.</li>

                        <li>The assembler sources are now released under version 3 of the GNU General Public
                        License.</li>
                      </ul>
                    </li>

                    <li>
                      <strong>Linker</strong>

                      <ul>
                        <li>Added a new linker command-line switch, <tt>--sort-section name|alignment</tt>,
                        to sort sections by section name or maximum alignment.</li>

                        <li>Added <tt>SORT_BY_NAME</tt> and <tt>SORT_BY_ALIGNMENT</tt> to the linker script
                        language to permit sorting sections by section name or section maximum
                        alignment.</li>

                        <li>New switch: <tt>--print-gc-sections</tt> to list any sections removed by garabge
                        collection.</li>

                        <li>Addded a new command-line option '<tt>--default-script=FILE</tt>' or '<tt>-dT
                        FILE</tt>' which specifies a replacement for the built-in, default linker
                        script.</li>

                        <li>Linker scripts support a new <tt>INSERT</tt> command that makes it easier to
                        augment the default script.</li>

                        <li>Linker-script input-section filespecs may now specify a file within an archive by
                        writing "archive:file".</li>

                        <li>The <tt>--sort-common</tt> switch now has an optional argument which specifies
                        the direction of sorting.</li>

                        <li>The Linker sources are now released under version 3 of the GNU General Public
                        License.</li>
                      </ul>
                    </li>

                    <li>
                      <strong>Binary Utilities</strong>

                      <ul>
                        <li>pic32-readelf can now display address ranges from .debug_range sections. This
                        happens automatically when a DW_AT_range attribute is encountered. The command line
                        switch <tt>--debug-dump=Ranges</tt> (or <tt>-wR</tt>) can also be used to display the
                        contents of the .debug_range section.</li>

                        <li>pic32-objcopy recognizes two new options, <tt>--strip-unneeded-symbol</tt> and
                        <tt>--strip-unneeded-symbols</tt>, namely for use together with the wildcard matching
                        the original <tt>--strip-symbol</tt>/<tt>--strip-symbols</tt> provided, but retaining
                        any symbols matching but needed by relocations.</li>

                        <li>Added <tt>-g</tt>/<tt>--section-groups</tt> to pic32-readelf to display section
                        groups.</li>

                        <li>Added <tt>--globalize-symbol &lt;name&gt;</tt> and <tt>--globalize-symbols
                        &lt;filename&gt;</tt> switches to pic32-objcopy to convert local symbols into global
                        symbols.</li>

                        <li>Added <tt>-t</tt>/<tt>--section-details</tt> to pic32-readelf to display section
                        details</li>

                        <li>Added <tt>-W</tt>/<tt>--dwarf</tt> to pic32-objdump to display the contents of
                        the DWARF debug sections.</li>

                        <li>Added <tt>-wL</tt> switch to dump decoded contents of .debug_line.</li>

                        <li>Added <tt>-F</tt> switch to pic32-objdump to include file offsets in the
                        disassembly.</li>

                        <li>Added <tt>-c</tt> switch to pic32-readelf to allow string dumps of archive symbol
                        index.</li>

                        <li>Added <tt>-p</tt> switch to pic32-readelf to allow string dumps of sections.</li>

                        <li>The Binutils sources are now released under version 3 of the GNU General Public
                        License.</li>
                      </ul>
                    </li>
                  </ul>
                </li>

                <li>
                  <p><strong>RIPL Interrupt Priority Level specifier</strong> -- The v1.10 release introduced
                  new Interrupt Priority Level specifiers. It also introduced a new default IPL behavior when
                  the IPL specifier was omitted from the interrupt attribute. (See <a href=
                  "#ISR_Context_improvements" onclick="shoh('new106'); shoh('new106_IPL_READMORE');">Features
                  added in MPLAB<font size="-3"><sup>&reg;</sup></font> C32 v1.10</a> below for more
                  information.)</p>

                  <p>The v1.11 release introduces an explicit specifier (RIPL) for this default behavior. You
                  may use this RIPL specifier in either the interrupt pragma or the interrupt attribute to
                  tell the compiler to use the runtime Requested Interrupt Priority Level from the CAUSE
                  register as the new IPL.</p>

                  <ul>
                    <li>Example 1:

                      <p><tt>#pragma interrupt Timer1IntHandler RIPL vector 4</tt></p>
                    </li>

                    <li>Example 2:

                      <p><tt>void <strong>__attribute__((interrupt(RIPL), vector(1)))</strong> myISR (void))
                      { /* code */ }</tt></p>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#new106target" onclick="shoh('new106');">Features added in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.10</a></h2>

            <div style="display: block;" id="new106">
              <ul class="c5">
                <li>
                  <strong>Smart I/O</strong> -- This release introduces a new
                  <strong><tt>-msmart-io=[0|1|2]</tt></strong> command-line option. This feature attempts to
                  statically analyze format strings passed to <tt>printf</tt>, <tt>scanf</tt>, and the 'f'
                  and 'v' variations of these functions. Uses of non floating-point format arguments will be
                  converted to use an integer-only variation of the library function. For many applications,
                  this feature can reduce program-memory usage.

                  <p><tt>-msmart-io=0</tt> disables this option, while <tt>-msmart-io=2</tt> causes the
                  compiler to be optimistic and convert function calls with variable or unknown format
                  arguments. <tt>-msmart-io=1</tt> is the safe default and will convert only when the
                  compiler can prove that floating-point support is not required.</p>
                </li>

                <li>
                  <strong><a name="ISR_Context_improvements" id="ISR_Context_improvements">Interrupt
                  Context-Saving Improvements</a></strong> -- New PIC32 devices introduced in this release
                  (PIC32MX5, PIC32MX6, PIC3MX7) allow us to select, via configuration fuses, which priority
                  will use the shadow register set. (Refer to the device datasheet to determine if your PIC32
                  device supports this feature.) This means that we must specify which context-saving
                  mechanism to use for each interrupt service routine. We specify the mechanism as part of
                  the IPL specifier passed in the interrupt attribute, <strong><tt>__attribute__((interrupt(
                  [IPLn(AUTO|SOFT|SRS)] )))</tt></strong>, where n is in the range of 0..7, inclusive.

                  <p><strong>NOTE</strong>: An incorrect <tt>IPL<em>n</em></tt> value can cause incorrect
                  nesting of interrupts, which could result in a stack overflow and eventually a bus-error
                  exception. If you experience a bus-error exception related to an interrupt, double check
                  that your <tt>IPL<em>n</em></tt> value matches the IPL value set for the interrupt
                  source.</p>

                  <p><a href="#ISR_Context_improvements" onclick=
                  "shoh('new106_IPL_READMORE');">[Show/Hide]</a></p>

                  <div style="display: block;" id="new106_IPL_READMORE">
                    <ul>
                      <li>
                        <p><strong>IPL Specifiers</strong></p>

                        <ul>
                          <li>
                            <p><tt><strong>IPL<em>n</em>AUTO</strong></tt> -- The compiler supports an
                            <tt>IPL<em>n</em>AUTO</tt> IPL specifier that uses the runtime value in
                            <tt>SRSCTL</tt> to determine whether it should use software or SRS context
                            saving. The interrupt context-saving code generated for this specifier has a
                            slightly higher latency, compared to <tt>IPL<em>n</em>SOFT</tt> or
                            <tt>IPL<em>n</em>SRS</tt>, due to the instructions required to test the
                            <tt>SRSCTL</tt> value. Example:<br>
                            <tt>void <strong>__attribute__((interrupt(IPL6AUTO), vector(1)))</strong> myISR
                            (void)) { /* code */ }</tt></p>
                          </li>

                          <li>
                            <p><strong><tt>IPL<em>n</em>SOFT</tt></strong> -- The compiler will use software
                            context saving for the <tt>IPL<em>n</em>SOFT</tt> specifier. Application code is
                            responsible for applying the correct <em>n</em> interrupt-source priority value
                            to the matching handler routine. Example:<br>
                            <tt>void <strong>__attribute__((interrupt(IPL6SOFT), vector(1)))</strong> myISR
                            (void)) { /* code */ }</tt></p>
                          </li>

                          <li>
                            <p><tt><strong>IPL<em>n</em>SRS</strong></tt> -- The compiler will generate
                            interrupt prologue and epilogue code utilizing shadow-register context saving for
                            <tt>IPL<em>n</em>SRS</tt>. This IPL specifier results in the shortest interrupt
                            context-saving latency. However, when using <tt>IPL<em>n</em>SRS</tt>, you must
                            configure the corresponding interrupt source to use a shadow register set. On
                            some devices, the shadow register set is tied to IPL7. On other devices, the
                            shadow register set is configurable in a device configuration register (DEVCFG).
                            Example:<br>
                            <tt>void <strong>__attribute__((interrupt(IPL6SRS), vector(1)))</strong> myISR
                            (void)) { /* code */ }</tt><br></p>
                          </li>

                          <li>
                            <p><strong><tt>single</tt></strong> -- For single-vector interrupt mode, use
                            <tt>single</tt> as the IPL parameter passed to the interrupt attribute.
                            Example:<br>
                            <tt>void <strong>__attribute__((interrupt(single), vector(1)))</strong> myISR
                            (void)) { /* code */ }</tt></p>
                          </li>

                          <li>
                            <p><strong><em>Default</em></strong> -- The compiler defaults to selecting the
                            IPL value and shadow-register usage at runtime when the IPL specifier is omitted
                            from the interrupt() attribute. Omitting the IPL specifier results in slightly
                            larger interrupt context-saving latency. <em>For mult-vector interrupt mode where
                            the requested IPL value may change at runtime, use this default behavior</em>.
                            Example:<br>
                            <tt>void <strong>__attribute__((interrupt(), vector(1)))</strong> myISR (void)) {
                            /* code */ }</tt></p>
                          </li>
                        </ul>
                      </li>

                      <li>
                        <p><strong>Updated __ISR Macro</strong> -- The IPL specifier argument to the
                        <tt>__ISR()</tt> macro, defined in <tt>&lt;sys/attribs.h&gt;</tt>, is now optional.
                        With the IPL specifier omitted, the compiler defaults to selecting the IPL value and
                        shadow-register usage at runtime.</p>

                        <ul>
                          <li>
                            <p><strong>Example 1</strong><br>
                            <tt>void <strong>__ISR(_CORE_SOFTWARE_0_VECTOR, IPL3SRS)</strong>
                            CoreSoftwareInt0Handler(void)</tt><br>
                            This example creates an interrupt handler function for the core software
                            interrupt 0 that has an interrupt priority level of three. The compiler places a
                            dispatch function at the associated vector location. To reach this function, the
                            core software interrupt flag and enable bits must be set, and the interrupt
                            priority should be set to a level of three. The device configuration fuses must
                            assign Shadow Register Set 1 to interrupt priority level three. The compiler
                            generates code that assumes that register context will be saved in SRS1.</p>
                          </li>

                          <li>
                            <p><strong>Example 2</strong><br>
                            <tt>void <strong>__ISR(_CORE_SOFTWARE_0_VECTOR)</strong>
                            CoreSoftwareInt0Handler(void)</tt><br>
                            This example creates an interrupt handler function for the core
                            software-interrupt 0 and uses the interrupt priority level from the
                            runtime-requested IPL value. The compiler generates code that determines, at
                            runtime, whether context should be saved on the stack by software or context was
                            already saved in a shadow register set.</p>
                          </li>
                        </ul>
                      </li>

                      <li>
                        <p><strong>Latency improvements</strong> -- The interrupt context saving code has
                        also been modified to improve latency. For instance, the HI/LO register saving code,
                        when required, now appears later in the ISR prologue. This helps reduce stalls when
                        an interrupt occurs during a DIV (divide) instruction.</p>
                      </li>
                    </ul>
                  </div>
                </li>

                <li>
                  <strong><a name="APPIOReadMore" id="APPIOReadMore">APPIN/APPOUT Debugging
                  Support</a></strong> -- New PIC32 devices being introduced in v1.10 (PIC32MX5, MX6, MX7)
                  support the APPIN/APPOUT debugging feature. This PIC32 feature allows the target
                  application to write text or data to an MPLAB<font size="-3"><sup>&reg;</sup></font> IDE
                  window without halting the target device. Similarly, you may use the display window to send
                  text or data back to the target PIC32 device. This feature requires an <a href=
                  "http://www.microchip.com/realice" target="external">MPLAB<font size=
                  "-3"><sup>&reg;</sup></font> REAL ICE</a> emulator or an <a href=
                  "http://www.microchip.com/icd3" target="external">MPLAB<font size=
                  "-3"><sup>&reg;</sup></font> ICD 3</a> debugger.<br>

                  <p><a href="#APPIOReadMore" onclick="shoh('new106_APPIOReadMore');">[Show/Hide]</a></p>

                  <div style="display: block;" id="new106_APPIOReadMore">
                    <ul>
                      <li><strong><tt>-mappio-debug</tt></strong> -- Use this command-line option to enable
                      the APPIN/APPOUT debugging library functions for the ICD 3 debugger and REAL ICE
                      emulator. This feature allows you to use the DBPRINTF and related functions and macros.
                      Enable this option only when using a target PIC32 device that supports the APPIN/APPOUT
                      feature.</li>

                      <li>
                        <strong>Example Code</strong> --

                        <div class="code panel" style="border-width: 1px; margin: 2px;">
                          <div class="codeContent panelContent">
                            <pre class="codeContent">
<tt>#include &lt;p32xxxx.h&gt;
int main (void)
{
    int num;
    char buf[256] ={0};
    DBINIT();

    while(1)
    {
      DBPRINTF ("Hello there!\n");
      DBPRINTF ("Enter a string\n");
#if defined(__APPIO_DEBUG)
      DBSCANF ("%s", &amp;buf[0]);
#elif defined(PIC32_STARTER_KIT)
      DBGETS  (&amp;buf[0],128);
#endif
      DBPRINTF ("Entered \"%s\"\n\n", &amp;buf[0]);

      printf ("Prints to UART2 by default or APPO when enabled\n");
    }
  return 0;
}</tt>
</pre>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </li>

                <li>
                  <strong><a name="SPLIMReadMore" id="SPLIMReadMore">Stack Limit symbol in built-in linker
                  script</a></strong> -- The default linker script now provides an _SPLIM symbol that you can
                  use from code to help detect a stack overflow at runtime. This symbol is associated with
                  the lowest address of the space reserved for the stack.

                  <p><a href="#SPLIMReadMore" onclick="shoh('new106_SPLIMReadMore');">[Show/Hide]</a></p>

                  <div style="display: block;" id="new106_SPLIMReadMore">
                    <ul>
                      <li>
                        <strong>Example Code</strong> --

                        <div class="code panel" style="border-width: 1px; margin: 2px;">
                          <div class="codeContent panelContent">
                            <pre class="codeContent">
<tt>#include &lt;stddef.h&gt;
#define _STACK_DEBUG 1
#if (_STACK_DEBUG)
#define stackcheck() _stackcheck(__FILE__, __LINE__)

static inline __attribute__((always_inline))
ptrdiff_t _stackcheck(const char *filename, unsigned int linenum)
{
  extern void _SPLIM; /* From linker script */

  register void* stackptr __asm__("$sp");

  /* Compare the current stack pointer with the Stack Pointer Limit symbol, _SPLIM */
  if ((ptrdiff_t)stackptr &lt;= (ptrdiff_t)&amp;_SPLIM)
    {
        /* Handle stack overflow */
        while(1);
    }
  return ((ptrdiff_t)stackptr - (ptrdiff_t)&amp;_SPLIM);
}
#else
#define stackcheck() (void)0
#endif

unsigned char foo(unsigned char var);
volatile unsigned int testval;

int main (void)
{
    unsigned char array[0x7A50];
    testval = 0;

    array[0] = 1;
    foo (array[0]);

    testval = 1;
    while(1);
}
unsigned char
foo(unsigned char var)
{
    stackcheck();
    return var+1;
}</tt>
</pre>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </li>

                <li>
                  <strong><a name="FeatureSetMacro" id="FeatureSetMacro">Predefined macro for Feature
                  Set</a></strong> -- The compiler predefines a macro based on the features available for the
                  selected device. These macros are intended to be used when writing code to take advantage
                  of features available on newer devices while maintaining compatibility with older devices.

                  <p><a href="#FeatureSetMacro" onclick=
                  "shoh('new106_FeatureSetMacroReadMore');">[Show/Hide]</a></p>

                  <div style="display: block;" id="new106_FeatureSetMacroReadMore">
                    <ul>
                      <li><strong>Examples</strong><br>
                      PIC32MX<strong>795</strong>F512L would use <tt>__PIC32_FEATURE_SET__ == 795</tt>,
                      and<br>
                      PIC32MX<strong>340</strong>F128H would use <tt>__PIC32_FEATURE_SET__ == 340</tt>.<br>
                      <br></li>

                      <li>
                        <strong>Example Code</strong> --

                        <div class="code panel" style="border-width: 1px; margin: 2px;">
                          <div class="codeContent panelContent">
                            <pre class="codeContent">
<tt>#if ((__PIC32_FEATURE_SET__ &gt;= 500) &amp;&amp;
     (__PIC32_FEATURE_SET__ &lt;= 799))
   { /* do stuff for 5XX, 6XX, 7XX families */ }
#elif ((__PIC32_FEATURE_SET__ &gt;= 300) &amp;&amp;
       (__PIC32_FEATURE_SET__ &lt;= 499))
   { /* do stuff for 3XX, 4XX families */ }
#elif ((__PIC32_FEATURE_SET__ &gt;= 800) &amp;&amp;
       (__PIC32_FEATURE_SET__ &lt; 1000))
   { /* do stuff for some future family */ }
#endif
</tt>
</pre>
                          </div>
                        </div><br>
                        <br>
                      </li>
                    </ul>
                  </div>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#new105" onclick="shoh('new105');">Features added in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.05</a></h2>

            <div style="display: block;" id="new105">
              <ul class="c5">
                <li><strong>Improved 16- and 32-bit FFT functions in the DSP Library</strong> -- The FFT
                functions have been significantly improved and optimized for the PIC32 instruction set. See
                the 32-bit Language Tools Libraries document (DS51685) for more information. Please visit
                <a href="http://www.microchip.com/c32">Microchip's website</a> for the revision C of this
                document (DS51685C).</li>

                <li><strong>Binary Constants</strong> -- A sequence of binary digits preceded by 0b or 0B
                (the numeral '0' followed by the letter 'b' or 'B') is taken to be a binary integer. The
                binary digits consist of the numerals '0' and '1'. Note that this binary-constant syntax may
                not be accepted by other C compilers.</li>

                <li>
                  <strong>Linker Memory-Usage Report</strong> -- This optional, informational report allows
                  you to easily determine the program- and data-memory usage of your application. It allows
                  you to see how much space is used by the project being linked and how much space is
                  available on the target device. The memory-usage report appears on stdout and in the
                  optional map file.

                  <ul>
                    <li>Using this feature with <strong>MPLAB<font size="-3"><sup>&reg;</sup></font> IDE 8.30
                    and earlier</strong> -- On the linker's tab of the project build options, select to
                    <strong>Use Alternate Settings</strong>. Add the <strong><tt>--report-mem</tt></strong>
                    option to the Alternate Settings field. The memory-usage report will appear in the output
                    window after a project build. (This option will appear as a checkbox in later
                    MPLAB<font size="-3"><sup>&reg;</sup></font> IDE releases.)</li>

                    <li>Using this feature on the <strong>command prompt</strong> -- Add the
                    <tt>--report-mem</tt> option to the linker's command line. If you are calling the linker
                    via the compilation driver, use the driver's <tt>-Wl</tt> option to pass the
                    <tt>--report-mem</tt> option to the linker. The memory-usage report will appear on
                    stdout.</li>
                  </ul>
                </li>

                <li>
                  <strong>Improved malloc implementation</strong> -- This release contains a new
                  malloc/free/realloc implementation based on the implementation written by Doug Lea and
                  released to the public domain. <em>(Note that C32 v1.12 introduces another
                  implementation.)</em>

                  <ul>
                    <li>This is not the fastest, most space-conserving, most portable, or most tunable malloc
                    ever written. However it is among the fastest while also being among the most
                    space-conserving, portable and tunable. Consistent balance across these factors results
                    in a good general-purpose allocator.</li>

                    <li>For a high-level description, see <a href=
                    "http://g.oswego.edu/dl/html/malloc.html">http://g.oswego.edu/dl/html/malloc.html</a></li>

                    <li>This implementation is also provided with the <a href=
                    "http://sourceware.org/newlib/">Newlib</a> C Library.</li>
                  </ul>
                </li>

                <li><strong>Instruction Macros</strong> -- The p32xxxx.h include file now contains a Nop()
                macro that issues a superscalar SSNOP instruction.</li>

                <li><strong><tt>gettimeofday()</tt> weak stub</strong> -- The time.h <tt>clock()</tt> and
                <tt>time()</tt> functions require a user-provided <tt>gettimeofday()</tt> helper function.
                The compiler's library now provides a weak stub implementation that allows the project link
                to complete without error, but you should provide your own implementation appropriate for
                your application.</li>

                <li><strong>Microchip DSP Compatibility Wrapper functions</strong> -- This release provides
                new DSP wrapper functions intended to ease the migration from the Microchip DSP library for
                dsPIC DSCs to the general DSP library for PIC32 MCUs. See the 32-Bit Language Tools Libraries
                (DS51685C) document for more information on these new wrapper functions.</li>

                <li><strong>Updated peripheral-library documentation</strong> -- The 32-bit peripheral
                library document is now distributed as a compiled help file (*.chm) rather than a PDF
                file.</li>

                <li><strong>Support for PWP configuration bits</strong> -- The config pragma now supports
                enabling the Program Write Protect bits. See the <em>PIC32MX Config Settings</em> help file
                for information on the setting name and available values for each device.</li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#new104" onclick="shoh('new104');">Features added in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.04</a></h2>

            <div style="display: block;" id="new104">
              <ul class="c5">
                <li>
                  <strong>General DSP Library</strong> -- The DSP Library supports a variety of signal
                  processing functions that have applicability in speech compression, echo cancellation,
                  noise cancellation, channel equalization, audio decoding, and many other DSP and media
                  applications. The library is highly optimized for the PIC32 MCU instruction set.

                  <ul>
                    <li>The DSP Library expects Q-type fixed-point arguments and produces Q-type results. The
                    MPLAB<font size="-3"><sup>&reg;</sup></font> C Compiler for PIC32 MCUs does not currently
                    support converting float or double types to Q-types.</li>

                    <li>See the 32-Bit Language Tools Libraries (DS51685) for documentation on the DSP
                    Library functions.</li>

                    <li>In the near future, a "dsPIC DSC DSP Algorithm Library" compatibility layer will be
                    available. This compatibility layer makes the PIC32 DSP Library backwards compatible with
                    the existing dsPIC DSC DSP Algorithm Library.</li>
                  </ul>
                </li>

                <li>
                  <strong>Vector attribute accepts parenthesized list of vector numbers</strong> -- The
                  interrupt vector attribute now accepts a parenthesized list of one or more interrupt vector
                  numbers. This means that you can now more easily generate multiple dispatch functions that
                  target a single interrupt service routine as shown in the example below.

                  <div class="code panel" style="border-width: 1px; margin: 10px;">
                    <div class="codeContent panelContent">
                      <tt>#include &lt;p32xxxx.h&gt;<br>
                      #include &lt;sys/attribs.h&gt;<br>
                      void __ISR((_TIMER_1_VECTOR,_TIMER_2_VECTOR,_TIMER_3_VECTOR),ipl6) TimerISR(void);</tt>
                    </div>
                  </div>
                </li>

                <li><strong>Interrupt service routines forced to nomips16</strong> -- The compiler will now
                force functions marked with the interrupt attribute to be nomips16. The compiler will emit a
                warning if it overrides the mips16 attribute or command-line default. Previous compiler
                releases stopped compilation with an error and required users to manually add the nomips16
                attribute. Note that you should use the __ISR macro from the sys/attribs.h header rather than
                manually specify the interrupt attribute.</li>

                <li><strong>Trigonometric function refactorization</strong> -- A few trigonometric functions
                have been refactored for a smaller code-size footprint.</li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#new103" onclick="shoh('new103');">Features added in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.03</a></h2>

            <div style="display: block;" id="new103">
              <ul class="c5">
                <li><strong>Optimized math library</strong> -- The floating-point math library provided with
                the compiler has been significantly optimized to take full advantage of the PIC32 MCU
                instruction set. The improved library provides the greatest benefit for the more complex
                operations, offering a greater than 5x performance improvement over the 1.02 library for many
                operations and an even more significant improvement for some operations. In addition,
                single-precision math library functions are now available, giving users a choice between
                double- and single-precision operations. See math.h for more information.</li>
              </ul>

              <ul class="c5">
                <li><strong><tt>__C32_VERSION__</tt> predefined macro</strong> -- The C compiler defines the
                constant <tt>__C32_VERSION__</tt>, giving a numeric value to the version identifier. This
                macro can be used to construct applications that take advantage of new compiler features
                while still remaining backward compatible with older versions. The value is based upon the
                major and minor version numbers of the current release. For example, release version 1.03
                will have a <tt>__C32_VERSION__</tt> definition of 103. This macro can be used, in
                conjunction with standard preprocessor comparison statements, to conditionally
                include/exclude various code constructs.</li>
              </ul>

              <ul class="c5">
                <li>
                  <strong><tt>__ISR_SINGLE__</tt> and <tt>__ISR_SINGLE_AT_VECTOR__</tt> convenience
                  macros</strong> -- The sys/attribs.h header file now provides two new macros intended to
                  simplify the use of the single-vector interrupt mechanism. See the sys/attribs.h header
                  file for more information.

                  <ul>
                    <li>The <tt>__ISR_SINGLE__</tt> macro specifies a function as an interrupt-service
                    routine in single-vector mode. This will place a jump at the single-vector location to
                    the interrupt handler.</li>

                    <li>The <tt>__ISR_SINGLE_AT_VECTOR__</tt> macro places the entire single-vector interrupt
                    handler at the vector 0 location. The user is responsible for ensuring that the vector
                    spacing is set to accommodate the size of the handler.</li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>
        </ul>
      </div>

      <center>
        <font size="-1">[ <a href="#ToC">Table of Contents</a> ] [ <a href="#WhatsNew">What's new</a> ] [
        <a href="#Fixes">Fixed Issues</a> ] [ <a href="#Limits">Known Issues</a> ]</font>
      </center>
    </li>

    <li class="Heading0">
      <h1><a name="Migration" id="Migration"></a>Migration Issues</h1>

      <p class="c1">The following changes may affect migration from older versions of the compiler.</p>

      <h2><a href="#Migration" onclick="shoh('migrateXC134');">Migrating to MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.34 from v1.30</a></h2>

      <div style="display: block;" id="migrateXC134">
        <a href="#Migration" onclick="shoh('migrateXC134');"></a>

        <ul class="c5">
          <li class="c8">Compiler</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>Old-style IPLn specifiers</strong> -- The compiler will now emit a warning for the
                deprecated IPLn interrupt priority-level specifier passed to the interrupt() attribute. Use
                the new-style IPLn(AUTO|SOFT|SRS) instead. The old-style specifier works reliably only when
                the device has a single shadow register set and it is assigned to IPL7, but the new specifier
                works for all devices.</p>
              </li>
            </ul>
          </li>

          <li class="c8">Libraries</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>Peripheral Libraries Moving</strong> -- The MPLAB XC32 peripheral libraries
                (plib.h) will be removed from the compiler installer in an upcoming XC32 release. When they
                are removed from the compiler release, they will be available as a separate download from the
                Microchip website. These peripheral libraries are being replaced with the MPLAB Harmony
                integrated firmware framework. Visit http://www.microchip.com/harmony for more information on
                this new framework.</p>
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <h2><a href="#Migration" onclick="shoh('migrateXC130');">Migrating to MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.30 from v1.2x</a></h2>

      <div style="display: block;" id="migrateXC130">
        <a href="#Migration" onclick="shoh('migrateXC130');"></a>

        <ul class="c5">
          <li class="c8">Assembler/Linker</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>Section flags</strong> -- Due to an improvement in the way some section flags are
                handled, your object files and libraries should be recompiled and reassembled. Specifically,
                the linker may not honor the <tt>keep</tt> section flag for object files built with earlier
                versions of the toolchain.</p>
              </li>
            </ul>
          </li>

          <li class="c8">Libraries</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>Peripheral Libraries Moving</strong> -- The MPLAB XC32 peripheral libraries
                (plib.h) will be removed from the compiler installer in an upcoming XC32 release. When they
                are removed from the compiler release, they will be available as a separate download from the
                Microchip website. These peripheral libraries are being replaced with the MPLAB Harmony
                integrated firmware framework. Visit http://www.microchip.com/harmony for more information on
                this new framework.</p>
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <h2><a href="#Migration" onclick="shoh('migrateXC120');">Migrating to MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.20 from v1.10</a></h2>

      <div style="display: block;" id="migrateXC120">
        <a href="#Migration" onclick="shoh('migrateXC120');"></a>

        <ul class="c5">
          <li class="c8">Compiler</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>Old-style IPL specifiers</strong> - The old-style IPL specifiers (e.g. ipl0-ipl7)
                for the interrupt attribute have been deprecated. The compiler will emit a warning for
                ipl7.</p>For the following code,
                <pre>
void __attribute__((interrupt(ipl7))) isr_ipl7(void) {}
void __ISR(0,ipl7) isrb_ipl7(void) {}
</pre>The compiler emits a warning:
                <pre>
warning: Interrupt priority IPL7 is deprecated. Specify as 'IPL7(AUTO|SOFT|SRS)' instead.
</pre>In this case, use IPL7SRS if your shadow register set is assigned to IPL7. Use IP7SOFT if your shadow
register set is assigned to another interrupt priority level. Use IPL7AUTO to have the compiler generate code
that determines the shadow register set assignment at runtime. On most PIC32MX devices, this shadow register
assignment is made in the configuration bits. Consult the device datasheet for more information.
                <pre>
void __attribute__((interrupt(IPL7SRS))) isr_ipl7(void) {}
void __ISR(0,IPL7SRS) isrb_ipl7(void) {}
</pre>
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <h2><a href="#Migration" onclick="shoh('migrateXC110');">Migrating to MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.10 from v1.00</a></h2>

      <div style="display: block;" id="migrateXC110">
        <a href="#Migration" onclick="shoh('migrateXC110');"></a>

        <ul class="c5">
          <li class="c8">Compiler</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>System Include Directories</strong> - Do not specify the MPLAB XC32 a system
                include directory (e.g. <tt>/pic32mx/include/</tt>) in your project properties. The
                <tt>xc32-gcc</tt> and <tt>xc32-g++</tt> compilation drivers automatically select between the
                default C libc and the C++ libc and their respective include-file directory for you. Manually
                adding a system include file path may disrupt this mechanism and cause the incorrect libc
                include files to be compiled into your project, causing a conflict between the include files
                and the library. Note that adding a system include path to your project properties has never
                been a recommended practice.</p>
              </li>
            </ul>
          </li>
        </ul>

        <ul class="c5">
          <li class="c8">Assembler and Linker</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>Default Linker Script</strong> - Previous releases of MPLAB XC32 and MPLAB C32
                used a linker script built in to the linker as the default linker script. Starting in XC32
                v1.00, the compilation drivers <tt>xc32-gcc</tt> and <tt>xc32-g++</tt> pass the equivalent of
                <tt>-T pic32mx/lib/ldscripts/elf32pic32mx.x</tt> to the linker. This means that this copy of
                the file is used as the default linker script and changes that you make to this file will
                have an effect on projects that rely on the default linker script.</p>
              </li>

              <li>
                <p><strong>Linker Script Changes</strong> - There have been many changes to the default
                linker script for this release. These changes primarily revolve around support for C++
                initialization, including the mapping of new sections required for C++ static object
                construction and destruction. In addition, the <tt>_min_heap_size symbol</tt> is no longer
                provided to be 0 and you must define an application-specific size if your application uses
                the heap. See the default linker script located at
                <tt>&lt;<em>install-dir</em>&gt;/pic32mx/lib/ldscripts/elf32pic32mx.x</tt> to review these
                changes and to see how you might apply them to a custom linker script.</p>
              </li>
            </ul>
          </li>
        </ul>

        <ul class="c5">
          <li class="c8">XC License Manager</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>xclm Location</strong> - MPLAB XC32 v1.00 installed the xclm executable into a
                separate directory. Starting in MPLAB XC32 v1.10, the xclm executable is now located in the
                compiler's bin directory (e.g. <tt>&lt;<em>install-dir</em>&gt;/bin</tt>). To query the
                available licenses or to activate a license, use the newer copy of the xclm executable. The
                older location is no longer used and, if you aren't using it for an older MPLAB XC compiler,
                you may remove the older copy.</p>
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <h2><a href="#Migration" onclick="shoh('migrateXC100');">Migrating to MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.00 from MPLAB<font size="-3"><sup>&reg;</sup></font> C32
      v2.xx</a></h2>

      <div style="display: block;" id="migrateXC100">
        <ul class="c5">
          <li class="c8">Compiler</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>Program prefix</strong> - The compilation driver is named <tt>xc32-gcc</tt> rather
                than pic32-gcc. Update your Make files and MPLAB<font size="-3"><sup>&reg;</sup></font> IDE
                projects accordingly.</p>

                <p>In MPLAB IDE v8.xx, go to Project Menu -&gt; Set Language Tool Locations... -&gt;
                Microchip PIC32 C-Compiler Toolsuite -&gt; Executables. Since the new MPLAB XC32 compiler is
                backwards compatible with the MPLAB C Compiler for PIC32 MCUs, point the executables to the
                new "xc32-" equivalents.</p>

                <p>In MPLAB X IDE, a new MPLAB XC32 plugin will be provided with the MPLAB X IDE
                installer.</p>
              </li>

              <li>
                <p><strong>Inclusion of peripheral libraries in build process</strong> - The device-specific
                peripheral library is now included into the link using the <a href=
                "#OPTIONAL_directive">OPTIONAL directive</a> in the device-specific procdefs.ld linker-script
                include file. This is different from the mechanism used with MPLAB<font size=
                "-3"><sup>&reg;</sup></font> C Compiler for PIC32 MCUs, which used the compilation driver to
                specify the peripheral lib. See the section below regarding "Device Support files" for
                additional information.</p>
              </li>

              <li>
                <p><strong>Section and address attributes on variables</strong> - While the compiler tries to
                make a decision about whether to place a named or address attributed section in space(data)
                or space(prog) based on the 'const' qualifier and the -membedded-data option, when using the
                section or address attribute, you will likely want to use the space attribute to explicitly
                place a variable in the data or prog space.</p>
              </li>
            </ul>
          </li>

          <li class="c8">Assembler/Linker</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>Program prefix</strong> - The assembler and linker are now named <tt>xc32-as</tt>
                and <tt>xc32-ld</tt>, respectively. Other utilities also now use 'xc32-' as the program
                prefix. Update your Make files and MPLAB<font size="-3"><sup>&reg;</sup></font> IDE projects
                accordingly.</p>
              </li>
            </ul>
          </li>

          <li class="c8">Device Support files</li>

          <li style="list-style: none">
            <ul class="c5">
              <li>
                <p><strong>xc.h</strong> - The generic device support header file is named xc.h rather than
                p32xxxx.h. Replace references to p32xxxx.h in your project with <tt>#include
                &lt;xc.h&gt;</tt>.</p>
              </li>

              <li>
                <p><strong>crt0 Startup code</strong> - The default C startup code has a few changes that may
                affect your project.</p>

                <ul class="c5">
                  <li>
                    <p><strong>_startup entry point for bootloaders</strong> - The <tt>_startup</tt>
                    entry-point symbol has moved from the <tt>.startup</tt> section to the
                    <tt>.reset.startup</tt> section. This change makes the startup code utilize boot flash
                    more efficiently, and it is important for PIC32 devices with 4 KB of boot flash. However,
                    if your project uses a bootloader that assumes that the <tt>_startup</tt> symbol will be
                    at a specific address, you may need to either <strong>a)</strong> adjust the bootloader
                    to call the new address or <strong>b)</strong> move the <tt>_startup</tt> symbol back to
                    the address that your bootloader expects.</p>

                    <ol type="a" class="c5">
                      <li>
                        <p><strong>Adjust the bootloader to call the new address</strong> - You can get the
                        new address of the <tt>_startup</tt> symbol from the linker-generated map file. Use
                        that new address in your bootloader code.</p>
                      </li>

                      <li>
                        <p><strong>Move the _startup symbol</strong> - If you cannot change your bootloader
                        to use the new address, you may move the <tt>_startup</tt> entry point back to the
                        address that your bootloader requires. Change the address by either renaming the
                        <tt>.reset.startup</tt> section back to <tt>.startup</tt> in the crt0.S file and
                        adding it to your project or by changing the linker script to map the
                        <tt>.reset.startup</tt> input section to the <tt>.startup</tt> output section.</p>
                      </li>
                    </ol>

                    <p>To prevent the address from changing in the future, you may wish to include a copy of
                    the startup code and full linker script in your project. When adding a copy of the
                    startup code to your project, be sure to set the project to not use the default startup
                    code by specifying the <tt>-nostartfiles</tt> option or enabling the checkbox in the
                    project properties. Then, adjust your custom linker script to map the
                    <tt>.reset.startup</tt> input section to an output section at a specific address as
                    described in the linker user's guide.</p>
                  </li>

                  <li>
                    <p><strong>Data Initialization</strong> - Early MPLAB C32 v1.xx releases used a block
                    copy to initialize data. The startup code copied a single block of values from program
                    memory to data memory. The AT&gt;kseg0_program_mem specified the load address for the
                    section. Basically the linker script told the linker to use the data from the
                    kseg1_data_mem region but to load it in the kseg0_program_mem region.</p>

                    <p>In MPLAB XC32, the linker dynamically generates a .dinit section that contains a data
                    initialization template. This template is necessary since the toolchain supports absolute
                    sections and data is no longer necessarily located in one contiguous block. The startup
                    code interprets the data-initialization template and uses it to copy initialization
                    values from program memory to data memory at startup. If your application uses custom
                    startup code, be sure that it uses the new init template to initialize data. Also, there
                    are implications to output section mapping in the linker script as described below.</p>
                  </li>
                </ul>
              </li>

              <li>
                <p><strong>Custom linker script</strong> - A project that uses an application-specific linker
                script should be updated when upgrading from MPLAB<font size="-3"><sup>&reg;</sup></font> C32
                v2.xx to MPLAB<font size="-3"><sup>&reg;</sup></font> <strong>X</strong>C32 v1.00.</p>

                <p>When the project requires the <strong>peripheral library</strong>, the linker script
                should use the new <tt>OPTIONAL</tt> linker-script directive to link the device-specific
                peripheral library. If your project uses an application-specific linker script and the
                peripheral library, be sure to copy these OPTIONAL directives from the appropriate XC32 v1.00
                procdefs.ld include file to your linker script. You will find the new linker-script
                procdefs.ld include file in the pic32mx/lib/proc/&lt;device-name&gt; directory.</p>
                <pre>
/*************************************************************************
 * Processor-specific peripheral libraries are optional
 *************************************************************************/
OPTIONAL("libmchp_peripheral.a")
OPTIONAL("libmchp_peripheral_32MX795F512L.a")
</pre>

                <p>If you do not add the peripheral library to your linker script, you may get "undefined
                reference" errors related to peripheral library functions at link time. At the same time, the
                OPTIONAL directive means that these libraries are optional. You will receive a linker error
                only when your project uses a library function or variable. You will not receive an error if
                the library is missing and your project does not use the library.</p>

                <p><strong>Important</strong>: Between MPLAB C32 v1.12 and v2.00, there were significant
                changes to the linker that required notable changes to custom linker scripts. <em>Use the
                MPLAB XC32 default linker scripts as a guide when creating or updating custom linker scripts
                for your project.</em> The main linker script is located in
                <tt>/pic32mx/lib/ldscripts/elf32pic32mx.x</tt> and the processor-specific include file is
                located in <tt>/pic32mx/lib/proc/&lt;device-name&gt;/procdefs.ld</tt>, where
                &lt;device-name&gt; is the name of the device being used for the project.</p>In addition to
                information provided below in the <a href="#MigrationC32v200" onclick=
                "shoh('migratec32'); shoh('migrate200');">Migrating to MPLAB<font size=
                "-3"><sup>&reg;</sup></font> C32 v2.00</a> section, some additional potential issues are
                listed here:

                <ul class="c5">
                  <li>
                    <p><strong>heap and stack</strong> - The heap and the stack are allocated dynamically by
                    the linker rather than being specified in the linker script. This means that the .heap
                    and .stack sections should no longer be output sections specified in the linker script,
                    as they were in early 'MPLAB C Compiler for PIC32 MCUs' versions. Similarly, the _stack
                    symbol should not be assigned in the linker script. The linker will use the best-fit
                    allocator to find an appropriate memory area for these sections. Continuing to map them
                    in the linker script may cause problems related to heap/stack location and size.</p>
                  </li>

                  <li>
                    <p><strong>Initialized data sections</strong> - Data is initialzed by startup code using
                    a linker-generated data initialization template located in the .dinit section. In early
                    versions of the 'MPLAB C Compiler for PIC32 MCUs', the startup code used a block copy to
                    copy the initialization values from program memory to data memory. This meant that
                    initialized data output sections, such as the .data section, needed to be mapped to both
                    data memory and program memory. Because the MPLAB<font size="-3"><sup>&reg;</sup></font>
                    XC32 data-initialization template generated by the linker takes care of this for us, we
                    should not map initialized data sections to program memory. Continuing to map these
                    sections to program memory will <strong>waste a significant amount of program
                    memory</strong> by placing values that are never used. The following example shows
                    changes to the .data output section, but the same concepts apply to other data sections
                    such as .sdata, .lit8, &amp; .lit4.</p>
                    <pre>
.data   :
  {
    _data_begin = . ;
    *(.data .data.* .gnu.linkonce.d.*)
    KEEP (*(.gnu.linkonce.d.*personality*))
    *(.data1)
  } &gt;kseg1_data_mem <font color=
"red"><em><strong>/* AT&gt;kseg0_program_mem */</strong></em></font> <strong>/* &lt;-- Do not map to program memory */</strong>
</pre>

                    <p>Ramfunc attributed functions are also allocated by the best-fit allocator and
                    initialized with the data-init template and therefore should not be mapped in a .ramfunc
                    output section in the linker script</p>
                  </li>

                  <li>
                    <p><strong>Input-section mapping</strong> - Along the same lines, in most cases, we do
                    not need to map sections in the linker script. Instead, we can allow the best-fit
                    allocator to map sections. By letting the best-fit allocator handle these sections, we
                    allow them to flow around absolute sections. The following example shows changes to the
                    .data output section, but the same concepts apply to other sections such .text, .bss,
                    &amp; .data.</p>
                    <pre>
.data   :
  {
    <font color="red"><em><strong>/* *(.data .data.*) */</strong></em></font>
    <strong>/* Allow the best-fit allocator to handle these input sections */</strong>
    *(.gnu.linkonce.d.*)
    KEEP (*(.gnu.linkonce.d.*personality*))
    *(.data1)
  } &gt;kseg1_data_mem
</pre>

                    <p>Note that the "small" data and bss (.sdata, .sbss, etc.) sections are still mapped in
                    the built-in linker script. This is because "small" data variables must be grouped
                    together so that they are within range of the more efficient GP-relative addressing mode.
                    To avoid conflict with these linker-script mapped sections, choose high addresses for
                    your absolute-address variables.</p>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </div><a name="MigrationC32v200" id="MigrationC32v200"></a>

      <h2><a href="#MigrationC32v200" onclick="shoh('migratec32'); shoh('migrate200');">Migration issues for
      MPLAB<font size="-3"><sup>&reg;</sup></font> C32 Releases</a></h2>

      <div style="display: block;" id="migratec32">
        <ul class="c5">
          <li>
            <h2><a href="#MigrationC32v200" onclick="shoh('migrate200');">Migrating to MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v2.00</a></h2>

            <div style="display: block;" id="migrate200">
              <ul class="c5">
                <li class="c8">Compiler</li>

                <li style="list-style: none">
                  <ul class="c5">
                    <li>
                      <p><strong>Custom Startup Code</strong> -- This release of the toolchain introduces
                      data initialization using a .dinit template and associated startup code. Previous
                      releases relied on a block copy in the startup code that copied from the .data section
                      located in program memory to the .data section allocated in data memory. If your
                      project uses custom startup code and initialized data, replace the block copy in your
                      custom startup code with initialization code utilizing the .dinit template. A copy of
                      the updated default startup code is located in the /pic32-libs/libc/startup/crt0.S file
                      installed with the compiler.</p>
                    </li>

                    <li>
                      <p><strong>Placement of the <tt>mips16</tt>/<tt>nomips16</tt> Function
                      Attribute</strong> -- The <tt>mips16</tt> and <tt>nomips16</tt> function attributes are
                      now declaration attributes rather than type attributes. This means that they should be
                      placed at the beginning of a declaration rather than on the type. The compiler will
                      emit a warning message if the attribute should be moved.</p>

                      <p><tt><strong>__attribute__((mips16))</strong> unsigned int *funct1 (void) { /* code
                      */ }</tt></p>
                    </li>
                  </ul>
                </li>

                <li class="c8">Linker</li>

                <li style="list-style: none">
                  <ul class="c5">
                    <li>
                      <p><strong>Custom Linker Script</strong> -- To make effective use of absolute sections
                      and the new best-fit allocator, <strong>standard program-memory and data-memory
                      sections should not be mapped in the linker script</strong>. The built-in linker script
                      no longer maps most standard sections such as the .text, .data, .bss, or .ramfunc
                      section. By not mapping these sections in the linker script, we allow these sections to
                      be allocated using the new best-fit allocator rather than the sequential allocator.
                      Sections that are unmapped in the linker script can flow around absolute sections
                      whereas sections that are linker-script mapped are grouped together and allocated
                      sequentially, potentially causing conflicts with absolute sections.</p>

                      <p>Note that the "small" data and bss (.sdata, .sbss, etc.) sections are still mapped
                      in the built-in linker script. This is because "small" data variables must be grouped
                      together so that they are within range of the more efficient GP-relative addressing
                      mode. To avoid conflict with these linker-script mapped sections, choose high addresses
                      for your absolute-address variables.</p>

                      <p><strong>New debug information should be mapped to 0 in the linker script.</strong>
                      The linker script should map the new .debug_ranges, .debug_pubtypes, and
                      .gnu.attributes sections in the linker script so that they do not get allocated to
                      program or data memory. Do this by adding two lines to your custom linker script. In
                      the existing linker script, find the output-section command within the SECTIONS block
                      where the other .debug sections are mapped. Add the two lines for .debug_ranges and
                      .debug_pubtypes.</p>

                      <p><tt>/* SGI/MIPS DWARF 2 extensions */<br>
                      .debug_weaknames 0 : { *(.debug_weaknames) }<br>
                      .debug_funcnames 0 : { *(.debug_funcnames) }<br>
                      .debug_typenames 0 : { *(.debug_typenames) }<br>
                      .debug_varnames 0 : { *(.debug_varnames) }<br>
                      <font color="navy"><em>.debug_pubtypes 0 : { *(.debug_pubtypes) }</em><br>
                      <em>.debug_range &nbsp;&nbsp; 0 : { *(.debug_ranges) }</em><br>
                      <em>.gnu.attributes 0 : { KEEP (*(.gnu.attributes)) }</em></font><br>
                      /DISCARD/ : { *(.rel.dyn) }<br>
                      /DISCARD/ : { *(.note.GNU-stack) }<br></tt></p>

                      <p><strong>A copy of the updated built-in linker script is located in
                      /pic32mx/lib/ldscripts/elf32pic32mx.x</strong>.</p>
                    </li>
                  </ul>
                </li>

                <li class="c8">Libraries</li>

                <li style="list-style: none">
                  <ul class="c5">
                    <li>
                      <p><strong>Peripheral Freeze (FRZ) bits</strong> -- The peripheral-library functions no
                      longer modify the debug freeze bit for the corresponding peripheral. Use an in-circuit
                      debugger or emulator to configure the peripheral to freeze when debugging, if
                      required.</p>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#migrate112" onclick="shoh('migrate112');">Migrating to MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.12</a></h2>

            <div style="display: block;" id="migrate112">
              <ul class="c5">
                <li class="c8">Compiler</li>

                <li style="list-style: none">
                  <ul class="c5">
                    <li>
                      <p><strong>Default double type</strong> -- As indicated above in the "What's New
                      section, in order to improve the migration path between C30 and C32, this release
                      changes the default size of the <tt>double</tt> type from 64 bits to 32 bits. The
                      <tt>long double</tt> type remains 64 bits. You may also restore default double size to
                      64 bits by passing the -fno-short-double option to the compiler.</p>

                      <p><strong>Warning:</strong> This change means that the compiler will generate code
                      that is not binary compatible with code generated using the 64-bit double. All object
                      files in a project should be generated with the same double size.</p>
                    </li>
                  </ul>
                </li>

                <li class="c8">Libraries</li>

                <li style="list-style: none">
                  <ul class="c5">
                    <li>
                      <p><strong>Standard C Library</strong> -- This release features a new lib C that can
                      reduce the footprint of applications that make use of these library functions. There
                      are significant differences in the implementation of functions such as printf() and
                      malloc(). In addition, lldiv_t and strtok_r() are not yet supported in this
                      library.</p>

                      <p>For customers wishing to continue to use the version of lib C provided by earlier
                      versions of MPLAB<font size="-3"><sup>&reg;</sup></font> C32, the compiler option
                      <tt>-legacy-libc</tt> makes this easy to manage. Be sure to pass the
                      <tt>-legacy-libc</tt> option to pic32-gcc when both compiling and linking. In
                      MPLAB<font size="-3"><sup>&reg;</sup></font> IDE v8, find a checkbox for this option in
                      the project build options, under the library selection category of the linker tab.</p>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#migrate111" onclick="shoh('migrate111');">Migrating to MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.11</a></h2>

            <div style="display: block;" id="migrate111">
              <ul class="c5">
                <li class="c8">Linker</li>

                <li style="list-style: none">
                  <ul class="c5">
                    <li>
                      <strong>Allocation of orphan sections</strong> -- Orphan sections are sections present
                      in the input files which are not explicitly placed into the output file by the linker
                      script. The linker will still copy these sections into the output file, but it has to
                      guess as to where they should be placed. The linker uses a simple heuristic to do this.
                      It attempts to place orphan sections after non-orphan sections of the same attribute,
                      such as code vs data, loadable vs non-loadable, etc. If there is not enough room to do
                      this then it places at the end of the file.

                      <p>If an orphaned section's name is representable as a C identifier then the linker
                      will automatically PROVIDE two symbols: __start_SECNAME and __end_SECNAME, where
                      SECNAME is the name of the section. These indicate the start address and end address of
                      the orphaned section respectively. Note: most section names are not representable as C
                      identifiers because they contain a `.' character.</p>

                      <p>Note: In previous releases, the linker allocated orphan sections at a high address,
                      after all other sections had been allocated. This is no longer the case and
                      applications should not rely on orphan sections being uninitialized.</p>
                    </li>
                  </ul>
                </li>
              </ul>

              <ul class="c5">
                <li class="c8">Default Linker Script</li>

                <li style="list-style: none">
                  <ul class="c5">
                    <li><strong>New .persist section</strong> -- The default linker script now provides a
                    .persist section between the .stack section and the .ramfunc section. This section is not
                    initialized or zeroed on startup. If your project used a custom section for this purpose,
                    you can now utilize this new .persist section that is specifically mapped outside of the
                    .bss and .data sections.<br>
                    <br>
                    Example:<br>
                    <tt>unsigned int __attribute__((section(".persist"))) flag;</tt></li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#migrate106" onclick="shoh('migrate106');">Migrating to MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.10</a></h2>

            <div style="display: block;" id="migrate106">
              <ul class="c5">
                <li class="c8">Interrupt context saving

                  <ul class="c5">
                    <li>
                      <strong>IPL specifier</strong> -- In prior compiler releases, the interrupt
                      service-routine prologue code determined the IPL value from the runtime RIPL value.
                      This meant that the IPL specifier value in the interrupt attribute or interrupt pragma
                      did not have to exactly match the actual IPL value for the interrupt source. The
                      interrupt service routine worked correctly, even when there was a discrepancy in the
                      IPL value.

                      <p>The interrupt prologue code generated by this release of the compiler uses the IPL
                      value as specified in the interrupt attribute or interrupt pragma. An incorrect IPLn
                      value can cause incorrect nesting of interrupts, which could result in a stack overflow
                      and eventually a bus-error exception. If you experience a bus-error exception related
                      to an interrupt, double check that your IPLn value matches the IPL value set for the
                      interrupt source.</p>

                      <p>Some applications may require an interrupt priority that changes at runtime. In this
                      case, omit the IPL specifier from the interrupt attribute as shown in the examples
                      below. e.g.<br>
                      <tt>&nbsp;&nbsp;void __attribute__((interrupt(), vector(1))) myISR1 (void)) { /* code
                      */ }</tt><br>
                      <tt>&nbsp;&nbsp;void __ISR(_CORE_SOFTWARE_0_VECTOR) CoreSoftwareInt0Handler(void) { /*
                      code */ }</tt></p>

                      <p>Currently, the interrupt pragma does not support interrupt priority levels that
                      change at runtime. In this case, convert the interrupt pragma to an interrupt attribute
                      as described above. For instance:</p>

                      <div class="code panel" style="border-width: 1px; margin: 2px;">
                        <div class="codeContent panelContent">
                          <pre class="codeContent">
<tt>#pragma interrupt foo ipl3 vector 4
void foo (void) { /* code */ }</tt>
</pre>
                        </div>
                      </div>becomes

                      <div class="code panel" style="border-width: 1px; margin: 2px;">
                        <div class="codeContent panelContent">
                          <pre class="codeContent">
<tt>void __attribute__((interrupt(), vector(4))) foo (void) { /* code */ }</tt>
</pre>
                        </div>
                      </div>
                    </li>
                  </ul>
                </li>

                <li class="c8">STDIO

                  <ul class="c5">
                    <li><strong>BUFSIZ</strong> -- The input buffer size has been reduced from 1024 to 64
                    bytes. Use the setvbuf() function to specify another buffer if your application requires
                    a buffer of another size.</li>

                    <li><strong>STDOUT_BUFSIZ</strong> -- The stdout default-buffer size has been reduced
                    from 128 bytes to 32 bytes. Use the setvbuf() function to specify another buffer if your
                    application requires a buffer of another size.</li>
                  </ul>
                </li>

                <li class="c8">Device support

                  <ul class="c5">
                    <li><strong>PIC32MX4xx devices</strong> -- The UPLLIDIV configuration fuse settings were
                    incorrectly named DIV_7 and DIV_8 for several PIC32MX4XX devices. They are now correctly
                    named DIV_10 and DIV_12, respectively. Code using the older names will fail to compile.
                    Update your code to use the new setting names.</li>
                  </ul>
                </li>

                <li class="c8">Documentation

                  <ul class="c5">
                    <li><strong>Peripheral Library documentation now provided as a help file</strong> -- The
                    peripheral library documentation is now provided as a CHM file rather than a PDF file.
                    Older versions of the compiler installer added a link to the PDF file in MPLAB<font size=
                    "-3"><sup>&reg;</sup></font> IDE's online help. To remove this outdated link, run the
                    uninstall facility in Windows Add/Remove Programs to completely uninstall the compiler.
                    Then re-run the v1.10 compiler installer.</li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#migrate105" onclick="shoh('migrate105');">Migrating to MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.05</a></h2>

            <div style="display: block;" id="migrate105">
              <ul class="c5">
                <li class="c8">DSP Library

                  <ul class="c5">
                    <li><strong>FFT setup functions</strong> -- The FFT setup functions, mips_fft16_setup()
                    and mips_fft32_setup(), are now deprecated. The FFT functions now load precalculated
                    coefficients so these setup functions are no longer required. Please visit <a href=
                    "http://www.microchip.com/c32">Microchip's website</a> for the revision C of the 32-bit
                    Libraries document (DS51685C).</li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#migrate104" onclick="shoh('migrate104');">Migrating to MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.04</a></h2>

            <div style="display: block;" id="migrate104">
              <ul class="c5">
                <li class="c8">Device-support files

                  <ul class="c5">
                    <li><strong>Device specific IRQ macro definitions</strong> -- The IRQ macro definitions,
                    such as <tt>_CORE_TIMER_IRQ</tt>, have moved from the ppic32mx.h header file to the
                    device-specific header file (e.g. proc/p32mx460f512l.h). This change should not affect
                    most applications because they should include the generic p32xxxx.h file.</li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#migrate103" onclick="shoh('migrate103');">Migrating to MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.03</a></h2>

            <div style="display: block;" id="migrate103">
              <ul class="c5">
                <li class="c8">Peripheral Library

                  <ul class="c5">
                    <li>Modified SYSTEMConfigXXX functions to use revised flash speed of 30 MHz. If you are
                    currently using a SYSTEMConfigXXX function, your application will automatically use the
                    new flash-speed specification.</li>
                  </ul>
                </li>

                <li class="c8">Examples

                  <ul class="c5">
                    <li>Modified all plib_examples to use SYSTEMConfig() function. This function allows users
                    to selectively configure certain parameters only.</li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>

          <li>
            <h2><a href="#migrate102" onclick="shoh('migrate102');">Migrating to MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.02</a></h2>

            <div style="display: block;" id="migrate102">
              <ul class="c5">
                <li>
                  <span class="c6">Processor Header files</span>

                  <ul>
                    <li>Removed Extended Mode (XM bit) in DMA controller</li>
                  </ul>
                </li>

                <li class="c8">Peripheral Library - See the <span class="c7">Microchip PIC32MX Peripheral
                Library</span> compiled help (*.chm) for details<br>

                  <ul class="c5">
                    <li>DMA Extended mode is removed. The maximum transfer length is now 256 bytes, even for
                    memory copy and CRC functions.</li>

                    <li>Symbols DMA_OPEN_NORM and DMA_OPEN_EXT used in the DmaChnOpen() call were removed. A
                    new symbol, DMA_OPEN_DEFAULT was added.<br></li>

                    <li>A new function, DmaGetMaxTcferSize() was added, to return the maximum supported size
                    of a transfer, variant dependent. Right now, only 256 bytes transfer size
                    supported.<br></li>

                    <li>DmaChnSetExtTxfer() was removed, no longer relevant.<br></li>

                    <li>DMA_CTL_EXT_EN was removed from the low level access routines</li>

                    <li>SYSTEMConfig() function was added to enable user-specified configuration for a given
                    system frequency.</li>
                  </ul>
                </li>
              </ul>
            </div>
          </li>
        </ul>
      </div>

      <center>
        <font size="-1">[ <a href="#ToC">Table of Contents</a> ] [ <a href="#WhatsNew">What's new</a> ] [
        <a href="#Migration">Migration Issues</a> ] [ <a href="#Fixes">Fixed Issues</a> ] [ <a href=
        "#Limits">Known Issues</a> ]</font>
      </center>
    </li>

    <li class="Heading0">
      <h1><a name="DocUpdate" id="DocUpdate"></a>Documentation Updates</h1>

      <h2>Library documentation updates</h2>

      <p class="c1">This section describes pending updates to the <cite>MPLAB<font size=
      "-3"><sup>&reg;</sup></font> 32-Bit Language Tools Libraries</cite> documentation. These changes will
      be incorporated into the next full revision of the documents.</p>

      <ul class="c5">
        <li><strong>BUFSIZ</strong> -- The BUFSIZ definition in stdio.h has been reduced to 32.</li>
      </ul>

      <h2><a name="CompDocUpdate" id="CompDocUpdate"></a>Compiler documentation updates</h2>

      <h3>v1.34</h3>

      <ul class="c5">
        <li>
          <p><b>Support for fixed-point operations</b></p>

          <p>The MPLAB XC32 C compiler supports fixed-point arithmetic according to the N1169 draft of
          ISO/IEC TR 18037, the ISO C99 technical report on Embedded C, available here: <a href=
          "http://www.open-std.org/JTC1/SC22/WG14/www/projects#18037">http://www.open-std.org/JTC1/SC22/WG14/www/projects#18037</a></p>

          <p>All 12 of the primary fixed-point types and their aliases, described in section 4.1 "Overview
          and principles of the fixed-point data types" of N1169, are supported. Fixed-point data values
          contain fractional and optional integral parts. The format of fixed-point data in XC32 are as
          specified in the table below.</p>

          <div class="SupportedDevices">
            <table summary="List of Supported MCUs">
              <tr>
                <td><b>Type</b></td>

                <td><b>Format</b></td>

                <td><b>Description</b></td>
              </tr>

              <tr>
                <td>short _Fract</td>

                <td>0.7</td>

                <td>1 bit sign, 7 bits fraction</td>
              </tr>

              <tr>
                <td>unsinged short _Fract</td>

                <td>0.8</td>

                <td>8 bits fraction</td>
              </tr>

              <tr>
                <td>_Fract</td>

                <td>0.15</td>

                <td>1 bit sign, 15 bits fraction</td>
              </tr>

              <tr>
                <td>unsigned _Fract</td>

                <td>0.16</td>

                <td>16 bits fraction</td>
              </tr>

              <tr>
                <td>long _Fract</td>

                <td>0.31</td>

                <td>1 bit sign, 31 bits fraction</td>
              </tr>

              <tr>
                <td>unsigned long _Fract</td>

                <td>0.32</td>

                <td>32 bits fraction</td>
              </tr>

              <tr>
                <td>long long _Fract</td>

                <td>0.63</td>

                <td>1 bit sign, 63 bits fraction</td>
              </tr>

              <tr>
                <td>unsigned long long _Fract</td>

                <td>0.64</td>

                <td>64 bits fraction</td>
              </tr>

              <tr>
                <td>short _Accum</td>

                <td>8.7</td>

                <td>1 bit sign, 8 bits integer, 7 bits fraction</td>
              </tr>

              <tr>
                <td>unsigned short _Accum</td>

                <td>8.8</td>

                <td>8 bits integer, 8 bits fraction</td>
              </tr>

              <tr>
                <td>_Accum</td>

                <td>16.15</td>

                <td>1 bit sign, 16 bits integer, 15 bits fraction</td>
              </tr>

              <tr>
                <td>unsigned _Accum</td>

                <td>16.16</td>

                <td>16 bits integer, 16 bits fraction</td>
              </tr>

              <tr>
                <td>long _Accum</td>

                <td>32.31</td>

                <td>1 bit sign,32 bits integer, 31 bits fraction</td>
              </tr>

              <tr>
                <td>unsigned long _Accum</td>

                <td>32.32</td>

                <td>32 bits integer, 32 bits fraction</td>
              </tr>

              <tr>
                <td>long long _Accum</td>

                <td>32.31</td>

                <td>1 bit sign,32 bits integer, 31 bits fraction</td>
              </tr>

              <tr>
                <td>unsigned long long _Accum</td>

                <td>32.32</td>

                <td>32 bits integer, 32 bits fraction</td>
              </tr>
            </table>
          </div>

          <p>The _Sat type specifier, indicating that the values are saturated, may be used with any type as
          described in N1169.</p>

          <p>The representation of unsigned types differ from their corresponding signed types due to the
          fact that one bit is utilized to store the sign. Signed types saturate at the most negative and
          positive numbers representable in the corresponding format. Unsigned types saturate at zero and the
          most positive number representable in the format.</p>

          <p>The default behavior of overflow on signed or unsigned types is saturation. The pragmas
          described in section 4.1.3 "Rounding and Overflow" of N1169 to control the rounding and overflow
          behaviour are not supported.</p>

          <h4>External definitions</h4>

          <p>The MPLAB XC32 C compiler provides an include file, stdfix.h, which provides various
          pre-processor macros related to fixed-point support.</p>

          <p>Fixed-point conversion specifiers for formatted I/O, as described in section 4.1.9 "Formatted
          I/O functions for fixed-point arguments" of N1169, are not supported in the current MPLAB XC32
          standard C libraries. Fixed-point variables may be displayed via (s)printf by casting them to the
          appropriate floating-point representation (float for _Fract, double for long _Fract and _Accum),
          and then displaying the value in that format. To scan a fixed-point number via (s)scanf, first scan
          it as the appropriate float or double floating-point number, and then cast the value obtained to
          the desired fixed-point type.</p>

          <p>The fixed-point functions described in section 4.1.7 of N1169 are not provided in the current
          MPLAB XC32 standard C libraries.</p>

          <p>Fixed-point constants, with suffixes of k (K) and r (R), as described in section 4.1.5 of N1169,
          are supported by the MPLAB XC32 C compiler.</p>

          <h4>Usage example</h4>

          <div class="code panel" style="border-width: 1px; margin: 2px;">
            <div class="codeContent panelContent">
              <pre class="codeContent">
<tt>#include &lt;stdfix.h&gt;

void main () {

    int i;
    fract a[5] = {0.5,0.4,0.2,0.0,-0.1};
    fract b[5] = {0.1,0.8,0.6,0.5,-0.1};

    accum dp = 0;

    /*Calculate dot product of a[] and b[]*/
    
    for (i=0; i&lt;5; i++) {
        dp += a[i] * b[i];
    }
 
}</tt>       
</pre>
            </div>
          </div>
        </li>
      </ul>

      <h3>v1.32</h3>

      <ul class="c5">
        <li>
          <p><b>IPL Specifier value</b></p>

          <p>Your application code is responsible for applying the correct Interrupt Priority Level (IPL)
          specifier value to each interrupt service routine (ISR). The interrupt source's priority level must
          match the ISR's IPL value (e.g. IPL<em>n</em>SRS) or the interrupt will not be handled correctly.
          Mismatching priority levels may result in critical runtime problems such as a stack overflow that
          overwrites data memory. This can include corruption of memory reserved for use by the Debug
          Executive, causing the debug tool to behave erratically.</p>
        </li>
      </ul>

      <h3>v1.10</h3>

      <ul class="c5">
        <li>
          <p><b>Installer must run as superuser on Linux:</b></p>

          <p>On both MacOS and Linux, it is necessary to run the installer as root or with superuser
          privilege ("sudo"). On MacOS, if the installer is started without superuser privilege, the
          installer will exit and display an informative message. On Linux, in this case, the installer will
          start and then fail when it attempts to write to directories for which it does not have adequate
          rights, displaying messages related to those access failures. To avoid this failure, run the
          installer via "sudo", or as the root user.</p>
        </li>
      </ul>

      <ul class="c5">
        <li>
          <p><b>PATH environment variable:</b></p>

          <p>On Linux, the installer by default updates the PATH environment variable to include paths to the
          new executables being installed. If the installer is run via "sudo", the default option here will
          update the PATH of the user executing the sudo command. If the installer is run by root, it is not
          necessary to use the sudo command, but the default will update root's PATH, and not the path of
          other users. When installing while logged in as root, a better choice is the option to update all
          user PATH variables, or to skip updating the PATH variable in the installer, and to update the PATH
          variables of users who will use the software, manually.</p>
        </li>
      </ul><!--
      <p class="c1">This section describes pending updates to the <em>MPLAB<font size=-3><sup>&reg;</sup></font> C Compiler for PIC32</em>
      documentation. These changes will be incorporated into the next full revision of the documents.</p>

      <ul class="c5">
        <li><strong>Address and Space C attributes</strong> == The address and space attributes will be added
        to the compiler user's guide. For now, please see the <a href="#WhatsNew">What's New</a> and <a href=
        "#Migration">Migration Issues</a> sections of this file.</li>

        <li><strong>C Startup Code</strong> == Changes related to .dinit data initialization template will be
        added to the compiler user's guide. For now, please see the <a href="#WhatsNew">What's New</a> and
        <a href="#Migration">Migration Issues</a> sections of this file.</li>

        <li><strong>Binary Constants</strong> == A sequence of binary digits preceded by <tt>0b</tt> or
        <tt>0B</tt> (the numeral '0' followed by the letter 'b' or 'B') is taken to be a binary integer. The
        binary digits consist of the numerals '0' and '1'. For example, the (decimal) number 255 can be
        written as <tt>0b11111111</tt>. Like other integer constants, a binary constant may be suffixed by
        the letter 'u' or 'U', to specify that it is unsigned. A binary constant may also be suffixed by the
        letter 'l' or 'L', to specify that it is long. Similarly, the suffix 'll' or 'LL' denotes a long long
        binary constant. Note that this binary-constant syntax may not be accepted by other C compilers.</li>

        <li><strong><tt>__VERSION__</tt> predefined macro</strong> == The <tt>__VERSION__</tt> macro expands
        to a string constant describing the compiler in use. Do not rely on its contents having any
        particular form, but it should contain at least the release number. Use the <tt>__C32_VERSION__</tt>
        macro for a numeric version number.</li>

        <li><strong>Interrupt-vector macros</strong> == Each processor-support header file (e.g.
        \pic32mx\include\proc\p32mx360f512l.h) provides a macro for each interrupt-vector number. When used
        in conjunction with the <tt>__ISR()</tt> macro provided by the sys\attribs.h header file, these
        macros help make an interrupt service routine easier to write and maintain. Example: <tt>void __ISR
        (<em>_TIMER_1_VECTOR</em>, ipl7) Timer1Handler (void);</tt></li>
      </ul>
-->

      <h2>Assembler/Linker/Utilities documentation updates</h2>

      <p class="c1">This section describes pending updates to the <em>MPLAB<font size=
      "-3"><sup>&reg;</sup></font> Assembler, Linker and Utilities for PIC32 MCUs User's Guide (DS51833)</em>
      documentation. These changes will be incorporated into the next full revision of the documents.</p>

      <ul class="c5">
        <li><strong><tt>.section</tt> Assembler Directive</strong> -- The new .section directive with
        attributes will be documented in the user's guide. For now, please see the <a href="#WhatsNew">What's
        New</a> and <a href="#Migration">Migration Issues</a> sections of this file.</li>

        <li><strong>Linker Allocation Algorithm</strong> -- The improved allocation algorithm featuring
        best-fit allocation will be documented in the user's guide. For now, please see the <a href=
        "#WhatsNew">What's New</a> and <a href="#Migration">Migration Issues</a> sections of this file.</li>
      </ul>

      <center>
        <font size="-1">[ <a href="#ToC">Table of Contents</a> ] [ <a href="#WhatsNew">What's new</a> ] [
        <a href="#Migration">Migration Issues</a> ] [ <a href="#Limits">Known Issues</a> ]</font>
      </center>
    </li>

    <li class="Heading0">
      <h1><a name="Fixes" id="Fixes">Fixed Issues</a></h1>

      <p class="c1">The following issues have been resolved in this release</p>

      <h2><a href="#Fixes" onclick="shoh('fixedXC134');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.34</a></h2>

      <div style="display: block;" id="fixedXC134">
        <dl class="c9">
          <dt>XC32-474</dt>

          <dd>Updated order of SRSCtl and Status registers on stack frame of IPLnAUTO code to be consistent
          with IPLnSOFT code</dd>
        </dl>
      </div>

      <h2><a href="#Fixes" onclick="shoh('fixedXC132');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.32</a></h2>

      <div style="display: block;" id="fixedXC132">
        <dl class="c9">
          <dt>XC32-311</dt>

          <dd>The long-double variants of several math-library functions were missing from math.h. The header
          file has been corrected to automatically convert the double variant of each function to the 32-bit
          float or 64-bit long double variant of the function as appropriate. For instance, sin(x) may get
          converted to sinf(x) or sinl(x) as appropriate for the -fshort-double or -fno-short-double compiler
          option.</dd>

          <dt>XC32-334</dt>

          <dd>The <tt>__builtin_section_size()</tt> function now compiles properly. Earlier releases could
          cause an internal compiler error.</dd>

          <dt>[C++] XC32-372</dt>

          <dd>The toolchain now disallows using the -legacy-libc option with C++ projects. Previously, the
          toolchain accepted this combination, but the library does not work correctly for C++.</dd>

          <dt>XC32-447</dt>

          <dd>The default linker scripts and startup code for the PIC32MZ devices now create 16-MB pages for
          the SQI and EBI memory ranges in the TLB. Previously, the code incorrectly created 32-MB
          pages.</dd>
        </dl>
      </div>

      <h2><a href="#Fixes" onclick="shoh('fixedXC131');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.31</a></h2>

      <div style="display: block;" id="fixedXC131">
        <dl class="c9">
          <dt>XC32-425</dt>

          <dd>For devices that have a single shadow register set (two total register sets), the startup code
          did not initialize the Global Pointer (GP) register in the shadow register set. This results in an
          incorrect memory access for small global-variable accesses from an Interrupt Service Routine (ISR)
          that uses the SRS context-saving mode. This usually resulted in a general exception. The default
          startup code now properly initializes the GP register in the shadow register set.</dd>

          <dt>XC32-333</dt>

          <dd>An internal compiler error "insn does not satisfy its constraints: mul_acc_si" when compiling a
          multiplication operation using accumulators under optimization has been fixed.</dd>

          <dt>Compilation Times</dt>

          <dd>The XC License manager now no longer extraneously checks for a network license server when it
          is not configured as network license client.</dd>

          <dt>MPLAB Harmony demo on Mac OS X</dt>

          <dd>An empty initialization list, as used by the TCP/IP demos in MPLAB Harmony, no longer causes an
          internal compiler error when running under Mac OS X.</dd>
        </dl>
      </div>

      <h2><a href="#Fixes" onclick="shoh('fixedXC130');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.30</a></h2>

      <div style="display: block;" id="fixedXC130">
        <dl class="c9">
          <dt>XC32-388</dt>

          <dd>The _bcc() macro no longer causes a compiler error in mips16e_output_save_restore when building
          with the -mips16 option.</dd>

          <dt>XC32-401</dt>

          <dd>Compiling with -save-temps now no longer causes problems for MPLAB X's source-level tracking on
          Windows. The generated debugging information now uses forward slashes for the directory path rather
          than escaped backslashes.</dd>
        </dl>
      </div>

      <h2><a href="#Fixes" onclick="shoh('fixedXC122');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.22</a></h2>

      <div style="display: block;" id="fixedXC122">
        <dl class="c9">
          <dt>XC32-326</dt>

          <dd>In earlier releases, a when a division and mod operation are used together, the mod result can
          get corrupted. The problem arises when compiling for the MIPS16 ISA mode with optimization level
          -O2/-O3/-Os. This release corrects the mod result.</dd>

          <dt>XC32-241</dt>

          <dd>The linker will no longer hang when it is passed an unsupported object file. It will ignore the
          unsupported object file and continue linking.</dd>
        </dl>
      </div>

      <h2><a href="#Fixes" onclick="shoh('fixedXC120');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.20</a></h2>

      <div style="display: block;" id="fixedXC120">
        <dl class="c9">
          <dt>XC32-299</dt>

          <dd>The installer should now run without error on Microsoft Windows 8.</dd>

          <dt>XC32-295</dt>

          <dd>The compiler now provides more complete error checking on IPL specifiers for the interrupt
          attribute.</dd>

          <dt>XC32-291</dt>

          <dd>The <tt>malloc()</tt> &amp; <tt>free()</tt> functions will now re-use free'd heap space before
          using additional heap space, thereby reducing heap fragmentation for many applications.</dd>

          <dt>XC32-285</dt>

          <dd>The <tt>__section_end</tt> function now returns the address following the section rather than
          the last address of the section.</dd>

          <dt>XC32-271</dt>

          <dd>In earlier releases, labels used within an absolute section could be resolved incorrectly in
          the assembler. This could affect internal branches within C functions attributed with the address
          attribute. It could also affect branches within absolute sections in assembly code. The symptom
          would most likely be an address exception when the label is used with a jump instruction. This
          issue is now resolved.</dd>

          <dt>XC32-264</dt>

          <dd>The <tt>scanf()</tt> function now handles strings containing '0' correctly.</dd>

          <dt>XC32-227</dt>

          <dd>The <tt>address</tt> attribute can now be combined with the <tt>-O3</tt>
          (<tt>-fipa-cp-clone</tt>) optimization level.</dd>
        </dl>
      </div>

      <h2><a href="#Fixes" onclick="shoh('fixedXC111');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.11</a></h2>

      <div style="display: block;" id="fixedXC111">
        <dl class="c9">
          <dt>XC32-260</dt>

          <dd>The interrupt and vector pragmas were not working from within C++ code. They could cause a
          segmentation fault in the compiler or they could cause the ISR to not be correctly identified as an
          interrupt function. This issue has been resolved. Please note that the preferred method for marking
          a function as an ISR is the interrupt attribute rather than the pragma.</dd>
        </dl>
      </div>

      <h2><a href="#Fixes" onclick="shoh('fixedXC110');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.10</a></h2>

      <div style="display: block;" id="fixedXC110">
        <dl class="c9">
          <dt>XC32-217</dt>

          <dd>When preprocessing a .S assembly-code file, the preprocessor could occasionally generate
          incorrect dependency information causing MPLAB X to require a clean before performing a re-build.
          This issue has been corrected for this release.</dd>

          <dt>XC32-199</dt>

          <dd>The default C libc implementation of the <tt>malloc()</tt> and <tt>calloc()</tt> functions
          attempted to minimize calls to <tt>sbrk()</tt> by allocating more memory than was originally
          requested. This could fail when we were nearing the maximum heap size. Starting in v1.10, malloc
          retries by allocating only the size of memory requested. The legacy-libc implementation and the C++
          implementation are separate and therefore are not changed for this release.</dd>

          <dt>XC32-157</dt>

          <dd>When combining a variable in a named section with the <tt>-fdata-sections</tt> option, the
          compiler now appends the variable name to the section name to create a new section name. For
          instance, <tt>int __attribute__((section(".myscn"))) var1;</tt> when compiled with
          <tt>-fdata-sections</tt> causes the compiler to place var1 in a section named ".myscn.var1". This
          allows the variable to participate in the linker's <tt>--gc-sections</tt> feature.</dd>

          <dt>XC32-149</dt>

          <dd>The default C libc implementation of the malloc() function always returned NULL for values
          greater than 64 KB regardless of the heap size. This issue has been fixed for v1.10.</dd>

          <dt>XC32-146</dt>

          <dd>Linking a C32 v1.xx object file or library into an XC32 v1.xx project could cause invalid
          section flags. More specifically, sections intended to be placed in code could be placed into data
          and vice versa. The XC32 v1.10 linker now recognizes when a section has an unexpected set of
          section flags and will make an attempt to correct them. It will also print a warning that the
          object file should be recompiled from source using XC32 v1.10 or later.</dd>

          <dt>XC32-145</dt>

          <dd>The default C libc implementation of the sscanf() function now correctly parses hexadecimal
          numbers.</dd>

          <dt>XC32-130</dt>

          <dd>XC32 v1.10 fixes an infinite loop caused by certain conditions in an invalid linker script. The
          linker will now terminate and emit an error.</dd>

          <dt>XC32-129</dt>

          <dd>Linker allocation of ramfunc input section is now much more robust. Sections with the ramfunc
          attribute are now grouped together and allocated sequentially at the end of data memory with the
          proper alignment regardless of the total ramfunc size.</dd>

          <dt>XC32-41</dt>

          <dd>A static mips16 function that could get inlined into a mips32 function no longer causes an
          internal compiler error.</dd>

          <dt>XC32-34</dt>

          <dd>A rare instruction scheduling bug related to mips16 code at -O2 and greater has been
          fixed.</dd>

          <dt>XC32-24</dt>

          <dd>OPTIONAL libraries that call standard libc functions no longer cause a link error. Libraries
          and objects specified in the linker script are now handled before standard libraries such as libc
          and libm.</dd>

          <dt>XC32-18</dt>

          <dd>The default C libc implementation of the malloc() and _dump_heap_info() functions are now
          properly separated so that calling one does not necessarily result in the other being added to the
          link. This was an issue because _dump_heap_info() calls the full fprintf() function causing that
          large function to also be added to the link.</dd>
        </dl>
      </div>

      <h2><a href="#Fixes" onclick="shoh('fixedXC100');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> XC32 v1.00</a></h2>

      <div style="display: block;" id="fixedXC100">
        <dl class="c9">
          <dt>C32-443</dt>

          <dd>The bitwise-AND operator using a 64-bit long long integer no longer causes an internal compiler
          error.</dd>

          <dt>C32-512:</dt>

          <dd>The stdint.h wrapper provided in lib/gcc/pic32mx/4.5.1/include has been removed. This wrapper
          file caused problems for the MPLAB X IDE editor preparser.</dd>

          <dt>C32-507:</dt>

          <dd>The compiler now generates Interrupt Service Routine code that uses registers $v0/$v1 to save
          the HI/LO accumulator pair.</dd>

          <dt>C32-505:</dt>

          <dd>The fputc function (and other functions that use fputc such as printf) no longer convert a '\n'
          character to a "\r\n" pair.</dd>

          <dt>C32-506:</dt>

          <dd>The rand() function now correctly generates and returns a 32-bit number rather than a 16-bit
          number.</dd>

          <dt>C32-393:</dt>

          <dd>The functions strcasecmp and strncasecmp are now provided in the Standard C library.</dd>

          <dt>C32-504:</dt>

          <dd>Formatted IO functions now properly scan and merge support all of the conversion specifiers
          used in the project.</dd>

          <dt>C32-502:</dt>

          <dd>The assert() function now prints the calling function name in addition to the file and line
          number.</dd>

          <dt>C32-345:</dt>

          <dd>The compiler no longer crashes when the TMP environment variable is set to an invalid directory
          on Windows.</dd>
        </dl>
      </div>

      <h2><a href="#Fixes" onclick="shoh('fixedmplabc32');">Fixed in MPLAB<font size=
      "-3"><sup>&reg;</sup></font> C32 releases</a></h2>

      <div style="display: block;" id="fixedmplabc32">
        <ul class="c5">
          <li>
            <h2><a href="#Fixes" onclick="shoh('fixed201');">Fixed in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v2.01</a></h2>

            <div style="display: block;" id="fixed201">
              <dl class="c9">
                <dt>C32-491:</dt>

                <dd>The watchdog timer (WDT) should now clear correctly on devices when the WDT Enable config
                bit is set using the config pragma. MPLAB<font size="-3"><sup>&reg;</sup></font> C32 v2.00
                incorrectly set some unimplemented bits to '0' rather than '1', which could cause problems
                with the WDT.</dd>

                <dt>C32-490:</dt>

                <dd>The single-precision atan2(y,x) function now returns the correct -Pi/2 value for the
                boundary condition (y&lt;0 &amp;&amp; x==0)</dd>

                <dt>C32-489:</dt>

                <dd>Compatibility issues related to the BigInt_helper_C32.S assembly code file in the
                Microchip TCP/IP stack have been resolved.</dd>

                <dt>C32-487:</dt>

                <dd>The _UART2_BASE_ADDRESS definition in the PIC32MX3 and MX4 device-support header files
                have been corrected. This caused the UART2 peripheral library functions to write to
                unimplemented locations rather than the correct Special Function Register addresses.</dd>

                <dt>C32-483:</dt>

                <dd>The C runtime startup code now correctly clears global uninitialized variables allocated
                to the "common" section.</dd>

                <dt>C32-480:</dt>

                <dd>The malloc free() function now handles a NULL pointer more gracefully. In previous
                releases, calling free() with a NULL pointer could cause heap corruption. In addition, the
                malloc() function now uses a smaller block size. This results in more efficient heap usage
                for most embedded applications.</dd>

                <dt>BIN32-79:</dt>

                <dd>The linker no longer marks the .sdata section as LOADable. In the MPLAB<font size=
                "-3"><sup>&reg;</sup></font> C32 v2.00 release, the .sdata section appeared in the hex file
                causing a problem for some hex file consumers.</dd>

                <dt>BIN32-77:</dt>

                <dd>The linker no longer causes a segmentation fault on projects that use the .rel.dyn
                section. Dynamic relocations are not yet supported.</dd>

                <dt>BIN32-76:</dt>

                <dd>The linker no longer emits symbols causing the bus matrix to be initialized when ram
                functions do not exist in the project. MPLAB<font size="-3"><sup>&reg;</sup></font> C32 v2.00
                always initialized the bus matrix, potentially causing runtime problems for projects using a
                custom linker script with a data section that did not end on a 2K aligned address.</dd>
              </dl>
            </div>
          </li>

          <li>
            <h2><a href="#Fixes" onclick="shoh('fixed200');">Fixed in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v2.00</a></h2>

            <div style="display: block;" id="fixed200">
              <dl class="c9">
                <dt>C32-412:</dt>

                <dd>Peripheral library function-like macros related to 32-bit timers TMR23 and TMR45 are
                restored. In the v1.12 release, these macros were unavailable and caused a link error for
                application code that attempted to use them. These macros are now again available on
                appropriate devices.</dd>

                <dt>C32-391:</dt>

                <dd>Some errors related to smart-io version 2 are now corrected. In the v1.12 release, some
                uses of formatted IO functions could cause a linker error along the lines of "undefined
                reference to `_fprintf_s' ". This error has been corrected for v2.00.</dd>

                <dt>C32-390:</dt>

                <dd>Library functions asprintf() and vasprintf() should now link correctly.</dd>

                <dt>BIN32-73:</dt>

                <dd>A potential linker hang/crash related to smart IO has been corrected.</dd>
              </dl>
            </div>
          </li>

          <li>
            <h2><a href="#fixed112" onclick="shoh('fixed112');">Fixed in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.12</a></h2>

            <div style="display: block;" id="fixed112">
              <dl class="c9">
                <dt>C32-350:</dt>

                <dd>The compiler now always preserves the $ra register when a function calls the
                __builtin_mfc0 or __builtin_mtc0 function.</dd>

                <dt>C32-347:</dt>

                <dd>The stack pointer is now always aligned to 8, even with the existence of a .ramfunc
                section. In earlier compiler releases, a function utilizing the <tt>__longramfunc__</tt>
                macro could cause the stack pointer to become misaligned. This could then potentially cause
                stack corruption if the application later called a vararg function and passed a 64-bit wide
                parameter such as a long double or a long long. The default linker script provided with this
                release corrects this potential issue.</dd>

                <dt>C32-353:</dt>

                <dd>In the v1.11 and v1.11(B) releases, some processor header files contained an SFR union
                with an empty nested struct. This extraneous empty struct has been removed.</dd>
              </dl>
            </div>
          </li>

          <li>
            <h2><a href="#fixed111" onclick="shoh('fixed111');">Fixed in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.11</a></h2>

            <div style="display: block;" id="fixed111">
              <dl class="c9">
                <dt>C32-318:</dt>

                <dd>IPLnSOFT interrupts nested in IPLnSRS interrupts now preserve the stack pointer across
                register sets. Previously, nested interrupts with shadow register set 1 assigned to a lower
                priority ISR (e.g. IPL1SRS) could cause stack pointer corruption. The most common symptom of
                stack corruption is a general exception after returning from the ISR. Thanks to A. Chen for
                reporting this issue via <a href=
                "http://support.microchip.com">http://support.microchip.com</a></dd>

                <dt>C32-314:</dt>

                <dd>The default general-exception context-saving code now allocates sufficient stack space
                for the number of general registers that it saves. The previous default code did not allocate
                sufficient space and resulted in stack corruption following a general exception. This made
                recovering from a general exception impossible when using the default context-saving
                code.</dd>

                <dt>C32-312:</dt>

                <dd>The compiler no longer generates an extraneous instruction a function epilogue for
                non-interrupt function where no additional stack space needs to be deallocated. The v1.10
                release incorrectly generated a useless <tt>addiu sp,sp,0</tt> instruction. Thanks to Slawek
                Piotrowski for reporting this issue on the Microchip <a href=
                "http://www.microchip.com/forums/tm.aspx?m=469338&amp;mpage=1&amp;key=&amp;#469338&quot;">web
                forum</a>.</dd>

                <dt>C32-300:</dt>

                <dd>The compiler now maintains an 8-byte alignment for the stack pointer for all functions
                including interrupt service routines. In prior compiler releases, when a function taking a
                variable number of arguments was called from an interrupt service routine and an 8-byte
                variable was passed as an argument, the generated code could cause a general exception.
                Thanks to Leon van Snippenberg of AVIX for reporting this issue.</dd>

                <dt>C32-298:</dt>

                <dd>A constant infinite loop within an IPLxAUTO interrupt service routine no longer causes an
                internal compiler error.</dd>

                <dt>C32-297:</dt>

                <dd>The CP0 access macros in cp0defs.h no longer cause an exception when used in a mips16
                function. These access macros now use the new CP0 builtin functions described in the <a href=
                "#new111target">Features added in MPLAB<font size="-3"><sup>&reg;</sup></font> C32 v1.11</a>
                section above.</dd>

                <dt>BIN32-44:</dt>

                <dd>The pic32-size utility now reports the size of COMMON section correctly as part of the
                bss section usage.</dd>
              </dl>
            </div>
          </li>

          <li>
            <h2><a href="#fixed110" onclick="shoh('fixed110');">Fixed in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.10</a></h2>

            <div style="display: block;" id="fixed110">
              <dl class="c9">
                <dt>C32-267:</dt>

                <dd>The '0' (zero-fill) flag for the output-format conversion specifiers (used with the
                printf functions), now properly causes zero filling when used with floating-point
                conversions. (e.g. <tt>printf("%010.2f",foo);</tt> )</dd>

                <dt>C32-266:</dt>

                <dd>A 'naked' attributed function containing a function call no longer causes a compiler
                crash when building with optimizations enabled.</dd>

                <dt>C32-252:</dt>

                <dd>The SoftReset() peripheral library function now works correctly on devices that do not
                use DMA, such as the PIC32MX320F032H.</dd>

                <dt>C32-224:</dt>

                <dd>In stdlib.h, MB_CUR_MAX is now correctly defined as 1.</dd>

                <dt>DAYHLD-10:</dt>

                <dd>The UPLLIDIV configuration fuse settings were incorrectly named DIV_7 and DIV_8 for
                several PIC32MX4XX devices. They are now correctly named DIV_10 and DIV_12,
                respectively.</dd>
              </dl>
            </div>
          </li>

          <li>
            <h2><a href="#fixed105" onclick="shoh('fixed105');">Fixed in MPLab c32 v1.05</a></h2>

            <div style="display: block;" id="fixed105">
              <dl class="c9">
                <dt>C32-064:</dt>

                <dd>Code generated using -Os -mips16 and a very large number of common subexpressions now
                compiles correctly.</dd>

                <dt>C32-232:</dt>

                <dd>Interrupt context-saving code now preserves the assembler temporary ($at) register. While
                the compiler does not use this register for standard C code, the general DSP library or the
                optimized math library use this register.</dd>

                <dt>Peripheral Library:</dt>

                <dd>
                  The peripheral-library source files listed below contain fixes and improvements. See the
                  updated peripheral-library documentation for further details.

                  <ul>
                    <li>pic32mx/include/peripheral/int.h</li>

                    <li>pic32mx/include/peripheral/incap.h</li>

                    <li>pic32mx/include/peripheral/nvm.h</li>

                    <li>pic32mx/include/peripheral/dma.h</li>

                    <li>pic32mx/include/peripheral/ports.h</li>

                    <li>pic32mx/include/peripheral/uart.h</li>

                    <li>pic32mx/include/peripheral/i2c.h</li>

                    <li>pic32mx/include/peripheral/outcompare.h</li>

                    <li>pic32mx/include/peripheral/cmp.h</li>

                    <li>pic32mx/include/peripheral/timer.h</li>

                    <li>pic32mx/include/peripheral/reset.h</li>

                    <li>pic32mx/include/peripheral/pcache.h</li>

                    <li>pic32mx/include/peripheral/system.h</li>

                    <li>pic32mx/include/peripheral/bmx.h</li>

                    <li>pic32-libs/peripheral/nvm/source/nvm_operation_lib.c</li>

                    <li>pic32-libs/peripheral/i2c/source/idle_i2c2_lib.c</li>
                  </ul>
                </dd>

                <dt>C32-42:</dt>

                <dd>The compiler now emits a more useful diagnostic message when multiple -mprocessor options
                appear on the command line.</dd>
              </dl>
            </div>
          </li>

          <li>
            <h2><a href="#fixed104" onclick="shoh('fixed104');">Fixed in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.04</a></h2>

            <div style="display: block;" id="fixed104">
              <dl class="c9">
                <dd>No significant fixed issues for this release</dd>
              </dl>
            </div>
          </li>

          <li>
            <h2><a href="#fixed103" onclick="shoh('fixed103');">Fixed in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.03</a></h2>

            <div style="display: block;" id="fixed103">
              <dl class="c9">
                <dt>BIN32-30:</dt>

                <dd>Assertion statements in the linker scripts now correctly compare the size of an exception
                vector to the vector spacing.</dd>

                <dt>C32-179:</dt>

                <dd>The gmtime() library function now links without error. In previous releases, the linker
                would complain about an undefined reference to 'offtime_r'</dd>

                <dt>C32-172:</dt>

                <dd>The config pragma now defaults the DEVCFG0 MSb to zero.</dd>

                <dt>C32-171:</dt>

                <dd>The first call to getchar() now calls _mon_getc(). The previous implementation treated
                the initial STDIN character as an ungetc() pushed-back character.</dd>

                <dt>C32-164:</dt>

                <dd>The device-specific header files now use '__asm__' rather than 'asm' when mapping each
                SFR struct to it's symbol name. Previous versions of these files did not compile when
                building with the compiler's -ansi option.</dd>

                <dt>C32-147:</dt>

                <dd>The interrupt attribute now properly accepts an uppercase IPLx value. Earlier compiler
                versions could reject the uppercase IPLx with an internal error.</dd>
              </dl>
            </div>
          </li>

          <li>
            <h2><a href="#fixed102" onclick="shoh('fixed102');">Fixed in MPLAB<font size=
            "-3"><sup>&reg;</sup></font> C32 v1.02</a></h2>

            <div style="display: block;" id="fixed102">
              <dl class="c9">
                <dt>C32-119:</dt>

                <dd>Removed pipeline interlock in ISR handling</dd>

                <dt>C32-141:</dt>

                <dd>Large <tt>malloc()</tt> calls no longer generate a general exception vector instead of
                returning a NULL pointer.</dd>

                <dt>C32-144:</dt>

                <dd>Interrupt macro now sets <tt>nomips16</tt></dd>

                <dt>C32-145:</dt>

                <dd>Include C startup code source is now provided in the standard distribution</dd>

                <dt>C32-151:</dt>

                <dd>IPL7 prologue code now sets incorrect bits in status register</dd>
              </dl>
            </div>
          </li>
        </ul>
      </div>

      <center>
        <font size="-1">[ <a href="#ToC">Table of Contents</a> ] [ <a href="#WhatsNew">What's new</a> ] [
        <a href="#Migration">Migration Issues</a> ] [ <a href="#Fixes">Fixed Issues</a> ]</font>
      </center>
    </li>

    <li class="Heading0">
      <h1><a name="Limits" id="Limits">Known Issues</a></h1>

      <p class="c1">The current known issues are as follows.</p>

      <h2>Part-Support Update Installation</h2>

      <dl class="c9">
        <dt>Installing over XC32 v1.31 and earlier</dt>

        <dd>After installing a part-support update over an existing installation of XC32 v1.31 or earlier,
        the older compiler may emit a warning message for the new part-support files. When building your
        project, the compiler warning will say "resource version (1.32) does not match!" This warning can
        safely be ignored.</dd>
      </dl>

      <h2>XC License Manager (xclm)</h2>

      <dl class="c9">
        <dt>C++ Library</dt>

        <dd>When combining the <tt>-fno-short-double</tt> option with cout using floating-point values, cast
        the floating-point value to the 64-bit <tt>(long double)</tt> type. The Standard C++ library is
        precompiled for 32-bit short doubles.</dd>
      </dl>

      <h2>C/C++ Compiler</h2>

      <dl class="c9">
        <dt>Calling a floating-point math-library function, including fp-to-integer conversions and
        floating-point division, from a MIPS32 function can cause a "JALX to a non-word-aligned address"
        linker error.</dt>

        <dd>
          Conditions:

          <ol>
            <li>BOOTISA config bit to MICROMIPS (e.g. #pragma config BOOTISA=MICROMIPS)</li>

            <li>Linking with the -mmicromips option.</li>

            <li>Calling function is compiled for MIPS32 mode</li>
          </ol>Possible workarounds:

          <ol>
            <li>Compile the calling function for the microMIPS mode with either the micromips function
            attribute or the -mmicromips compiler option so that mode switching is not required.</li>

            <li>Link with the MIPS32 libraries by setting the BOOTISA config bit to MIPS32 and removing the
            -mmicromips option from the linker options.</li>
          </ol>
        </dd>
      </dl>

      <dl class="c9">
        <dt>Comparing a pointer to a constant with <tt>-Os</tt> enabled</dt>

        <dd>
          For the following code,
          <pre>
const unsigned int kPhysAddress = 0x9D07E000; // constant
int  CalData[4096];
volatile int result = 0;
extern void foo (unsigned int a, int b);
int __attribute__((optimize("-Os"))) Checks() {
    int test3 = ((unsigned int)CalData == (kPhysAddress)); // Always false
    int difference = (int)CalData - (int)(kPhysAddress);
    foo(difference,test3);

    // This if MUST be included to show failure
    // Assumed to always be false
    if (test3)
        {
            result = 1234;
        }
    else
        {
            result = 5678;
        }
    return test3;
}
int main(void)
{
    Checks();
    return (0);
}
void foo (unsigned int a, int b)
{}
</pre>when compiled with the <tt>-Os</tt> level of optimization, the <tt>test3</tt> variable may always
evaluate to false.
        </dd>
      </dl>

      <h2>C++ Compiler</h2>

      <dl class="c9">
        <dt>SJLJ Exceptions</dt>

        <dd>The C++ compiler currently implements C++ exceptions using the setjmp / longjmp model. A future
        release of XC32 will change to use the more efficient DWARF-2 exception model.</dd>
      </dl>

      <dl class="c9">
        <dt>C++ Exceptions with -mips16</dt>

        <dd>Currently C++ exceptions combined with the MIPS16 ISA mode (e.g. <tt>-fexceptions -mips16</tt>)
        are unsupported. For now, use the MIPS32 ISA mode if your application requires a C++ exception.</dd>
      </dl>

      <dl class="c9">
        <dt>Default C++ libc</dt>

        <dd>The Standard C library used by default when compiling a C++ project does not yet support the C
        compiler's smart IO feature. This means that projects calling <tt>printf()</tt> and related libc
        functions will be larger than if they had been compiled and linked for C only.</dd>
      </dl>

      <h2>Assembler</h2>

      <dl class="c9">
        <dt>BIN32-68</dt>

        <dd>The assembler may emit an error, 'Macro used $at after".set noat"', for a macro/synthesized
        instruction even when the synthesized instruction does not use the $at register. A workaround is to
        replace the macro instruction with the actual instructions.</dd>
      </dl>

      <h2>Linker</h2>

      <dl class="c9">
        <dt>BIN32-58</dt>

        <dd>
          The linker may emit an unfriendly error message when it encounters a case where it cannot switch
          ISA modes between mips16 and mips32 in a function call. The error message is "jump to stub routine
          which is not jal". This condition can occur when a mips32 function's final statement is a call to a
          mips16 function and compiler optimizations are enabled.

          <p>Example:<br>
          <tt>extern void bar (void);<br>
          void foo (void);<br>
          void foo (void)<br>
          {<br>
          &nbsp; &nbsp; bar();<br>
          }</tt><br>
          The file containing <tt>bar()</tt> was compiled with <tt>-mips16</tt> and the file containing
          <tt>foo()</tt> was compiled with <tt>-O2</tt> but not <tt>-mips16</tt>. This means that the call to
          <tt>bar()</tt> must change ISA modes. Also, the call to <tt>bar()</tt> is the last statement in the
          <tt>foo()</tt> function.</p>

          <p>Possible workarounds include</p>

          <ol>
            <li>Use the mips16/nomips16 function attribute to make the caller function and the callee
            function the same ISA mode. Usually, this means applying the <tt>__attribute__((mips16))</tt> or
            <tt>__attribute__((nomips16))</tt> to the caller function to make it match the callee. This
            eliminates the need for a mode switch when calling the function.

              <p>The example above becomes:<br>
              <tt>extern void bar (void);<br>
              void __attribute__((mips16)) foo (void);<br>
              void __attribute__((mips16)) foo (void)<br>
              {<br>
              &nbsp; &nbsp; bar();<br>
              }</tt></p>
            </li>

            <li>If your particular instance of this problem is caused by the tail sibling-call optimization,
            use the <tt>-fno-optimize-sibling-calls</tt> option when compiling the caller function. In MPLAB
            IDE v8.xx, add this option to your project's alternate settings. This will prevent the compiler
            converting your 'jal' call into a 'j' branch, which cannot change ISA modes.</li>
          </ol>A future release of the linker will emit a more friendly and useful error message.
        </dd>
      </dl>

      <h2>Libraries and Device-Support Files</h2>

      <dl class="c9">
        <dt>XC32-454</dt>

        <dd>The setjmp() function can corrupt the stack. Avoid using this function.</dd>

        <dt>XC32-437</dt>

        <dd>The rint() function does not return the integral value nearest to double in floating-point
        format. A workaround for now is to use the legacy libc.</dd>

        <dt>XC32-313</dt>

        <dd>The PIC32 Starter KIT IO mechanism does not work from C++ code and results in a linker error
        "undefined reference to '_iob'"</dd>

        <dt>XC32-307</dt>

        <dd>The stdio functions such as printf and scanf do not support the size specifiers for the 64-bit
        long double type.</dd>

        <dt>C32-319</dt>

        <dd>
          GenericTypeDefs.h defines common data types (such as BYTE, BOOL, UINT16, etc.) that may conflict
          with definitions in non-Microchip code when using Microchip libraries. When conflicts occur, it
          will cause compilation errors in the Microchip-provided libraries or in the non-Microchip libraries
          (depending on which library first defines the data type).

          <p>Possible workaround:<br>
          Remove conflicting definitions from source code.</p>
        </dd>

        <dt>C32-479</dt>

        <dd>
          When combining the <tt>-fno-short-double</tt> and <tt>-mno-float</tt> compiler options and calling
          a <tt>scanf()</tt> or related function, the linker may emit an error indicating undefined
          references to <tt>_dstrtod</tt> and <tt>strtof</tt>. You are not likely to see this issue because
          combining -fno-short-double, which requests a 64-bit double type, with -mno-float, which disables
          floating-point support, is not common.

          <p>Possible workaround:<br>
          Remove the either the -fno-short-double or -mno-float option.</p>
        </dd>
      </dl>
    </li>

    <li class="Heading0">
      <h1><a name="CompilerLicensing" id="CompilerLicensing">Compiler Licensing</a></h1>

      <p class="c1">Visit the <a href=
      "http://www.microchip.com/MPLABXCcompilers">http://www.microchip.com/MPLABXCcompilers</a> website for
      more information on MPLAB XC compiler licensing.</p>
    </li>

    <li class="Heading0">
      <h1><a name="Support" id="Support">Customer Support</a></h1>

      <p class="c1">Microchip provides online support via our home page at:<br>
      <a target="external" href="http://www.microchip.com">http://www.microchip.com</a></p>

      <p class="c1">Technical support is available through the web site at:<br>
      <a target="external" href="http://www.microchip.com/support">http://www.microchip.com/support</a></p>

      <p class="c1">A forum for discussion of Microchip products and tools is available at:<br>
      <a target="external" href="http://www.microchip.com/forums">http://www.microchip.com/forums</a></p>

      <p class="c1">Microchip PIC32 documentation and product info is available at:<br>
      <a target="external" href="http://www.microchip.com/pic32">http://www.microchip.com/pic32</a></p>

      <p class="c1">Microchip MPLAB XC Compiler info is available at:<br>
      <a target="external" href=
      "http://www.microchip.com/MPLABXCcompilers">http://www.microchip.com/MPLABXCcompilers</a></p>

      <center>
        <font size="-1">[ <a href="#ToC">Table of Contents</a> ] [ <a href="#WhatsNew">What's new</a> ] [
        <a href="#Fixes">Fixed Issues</a> ] [ <a href="#Limits">Known Issues</a> ]</font>
      </center>
    </li>
  </ol>
</body>
</html>
